(self.webpackChunkshopping_pwa=self.webpackChunkshopping_pwa||[]).push([[5031],{29339:function(e,n,t){t.d(n,{V2:function(){return ci},LY:function(){return ii},UI:function(){return za},tI:function(){return ha},AI:function(){return Ia},oT:function(){return $e},qJ:function(){return di}});var a=t(67294),r=t(67521),l=t(93633),i=t(81194),o=t(85395),c=t(16480),d=t(14384),s=t(29892),u=t(98250),m=t(39647),p=t(25570),g=t(70094),S=t(13413),E=t(8315),v=t(53274),f=t(22570),y=t(73030),_=t(68819),F=t(72413),T=t(86821),h=t(18242),I=t(24499),D=t(97534),A=t(8705),C=t(18397),k=t(54552),b=t(68369),N=t(49560),L=t(5419),R=t(30300),G=t(95128),x=t(57861),O=t(51796),M=t(10174),P=t(61436),B=t(67560),U=t(24859),w=t(89439),z=t(99594),H=t(65311),V=t(58850),W=t(19145),Y=t(5868),$=t(23251),X=t(14841),K=t(54874),q=t(95637),Q=t(39600),j=t(10333),Z=function(){return Z=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},Z.apply(this,arguments)};function J(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,l=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(a=l.next()).done;)i.push(a.value)}catch(o){r={error:o}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(r)throw r.error}}return i}function ee(e,n,t){if(t||2===arguments.length)for(var a,r=0,l=n.length;r<l;r++)!a&&r in n||(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}function ne(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var te,ae,re,le,ie,oe,ce,de,se,ue,me,pe,ge,Se,Ee,ve,fe,ye=function(e){var n=e.rows;return a.createElement(a.Fragment,null,n.map((function(e,n){var t=e.type;return a.createElement(d.l,{key:n,padding:0===n?void 0:{blockstart:"three"}},a.createElement("div",null,a.createElement(c.H,{animation:!0,type:t})))})))};!function(e){e.DEBUG="DEBUG",e.NONE="NONE",e.PREVIEW="PREVIEW",e.RELEASED="RELEASED"}(te||(te={})),function(e){e.ANONYMOUS="ANONYMOUS",e.AUTHENTICATED="AUTHENTICATED",e.IDENTIFIED="IDENTIFIED"}(ae||(ae={})),function(e){e.APP_PHONE="APP_PHONE",e.APP_TABLET="APP_TABLET",e.CHAT_APP="CHAT_APP",e.DESKTOP="DESKTOP",e.MOBILE_PHONE="MOBILE_PHONE",e.MOBILE_TABLET="MOBILE_TABLET",e.VOICE_APP="VOICE_APP"}(re||(re={})),function(e){e.MAXIMUM_GREATER_THAN_MINIMUM="MAXIMUM_GREATER_THAN_MINIMUM",e.MAXIMUM_VALUE="MAXIMUM_VALUE",e.MINIMUM_LESS_THAN_MAXIMUM="MINIMUM_LESS_THAN_MAXIMUM",e.MINIMUM_VALUE="MINIMUM_VALUE",e.REQUIRED_VALUE="REQUIRED_VALUE"}(le||(le={})),function(e){e.CHECKED="CHECKED",e.INDETERMINATE="INDETERMINATE",e.UNCHECKED="UNCHECKED"}(ie||(ie={})),function(e){e.FRI="FRI",e.MON="MON",e.SAT="SAT",e.SUN="SUN",e.THU="THU",e.TUE="TUE",e.WED="WED"}(oe||(oe={})),function(e){e.LEADING="LEADING",e.TRAILING="TRAILING"}(ce||(ce={})),function(e){e.CHILD_AGE_REQUIRED="CHILD_AGE_REQUIRED",e.MANY_INFANT_IN_SEAT="MANY_INFANT_IN_SEAT",e.MANY_INFANT_ON_LAP="MANY_INFANT_ON_LAP",e.MAX_TRAVELERS="MAX_TRAVELERS"}(de||(de={})),function(e){e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND"}(se||(se={})),function(e){e.EXTRA_SMALL="EXTRA_SMALL",e.LARGE="LARGE",e.MEDIUM="MEDIUM",e.MEDIUM_LARGE="MEDIUM_LARGE",e.SMALL="SMALL",e.XLARGE="XLARGE"}(ue||(ue={})),function(e){e.FLIGHT_CAR="FLIGHT_CAR",e.FLIGHT_HOTEL="FLIGHT_HOTEL",e.FLIGHT_HOTEL_CAR="FLIGHT_HOTEL_CAR",e.HOTEL_CAR="HOTEL_CAR"}(me||(me={})),function(e){e.FEW="FEW",e.MANY="MANY",e.ONE="ONE",e.OTHER="OTHER",e.TWO="TWO",e.ZERO="ZERO"}(pe||(pe={})),function(e){e.CAN_NOT_TRACK="CAN_NOT_TRACK",e.CAN_TRACK="CAN_TRACK"}(ge||(ge={})),function(e){e.OPTION="OPTION",e.REMOVE="REMOVE"}(Se||(Se={})),function(e){e.DEFAULT_TO_NON_DEFAULT="DEFAULT_TO_NON_DEFAULT",e.NON_DEFAULT_TO_DEFAULT="NON_DEFAULT_TO_DEFAULT",e.NON_DEFAULT_TO_NON_DEFAULT="NON_DEFAULT_TO_NON_DEFAULT",e.SELECTED="SELECTED",e.UNSELECTED="UNSELECTED"}(Ee||(Ee={})),function(e){e.APPLIED_FILTERS="APPLIED_FILTERS",e.FILTERS="FILTERS",e.FILTERS_PILLS="FILTERS_PILLS",e.FILTER_BAR="FILTER_BAR",e.FILTER_DIALOG="FILTER_DIALOG",e.SORT="SORT",e.SORT_AND_FILTERS="SORT_AND_FILTERS",e.SORT_TABS="SORT_TABS"}(ve||(ve={})),function(e){e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL"}(fe||(fe={}));var _e={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:pe.ZERO,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.ONE,template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:pe.TWO,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.FEW,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.MANY,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.OTHER,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Fe={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,trending:!1,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,__typename:"TypeaheadInfo"},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null},Te=new Date,he=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate()+7),Ie=new Date(Te.getFullYear(),Te.getMonth(),Te.getDate()+19),De={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:oe.SUN,maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:he.getDate(),month:he.getMonth(),year:he.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Ie.getDate(),month:Ie.getMonth(),year:Ie.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:5,month:8,year:2022,__typename:"Date"},validDaysUpperBoundInclusive:{day:18,month:12,year:2023,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},dateFormat:"yyyy-MM-dd",showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Ae={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:null,infantsOnLap:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:de.MAX_TRAVELERS,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:de.CHILD_AGE_REQUIRED,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:pe.ZERO,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.ONE,template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:pe.TWO,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.FEW,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.MANY,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:pe.OTHER,template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:pe.ZERO,template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:pe.ONE,template:"${roomCount} room",__typename:"CardinalTemplate"},{category:pe.TWO,template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:pe.FEW,template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:pe.MANY,template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:pe.OTHER,template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:pe.ZERO,template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:pe.ONE,template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:pe.TWO,template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:pe.FEW,template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:pe.MANY,template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:pe.OTHER,template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},Ce={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}};function ke(e,n,t){return e.replace("${"+n+"}",t)}var be,Ne=(0,r.Ps)(be||(be=ne(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"],["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"]))),Le=function(e){var n,t,r,l,i=e.errorCount,o=void 0===i?0:i,c=e.inputErrorRef,d=e.linkClickFocusId,s=e.data,p=a.createRef(),g=(0,u.useClickTracker)(),S=s.body,E=s.goToErrorLinkText,v=s.goToFirstErrorLinkText,f=s.heading,y=s.analytics,_=s.impressionAnalytics,F=s.headingTemplate,T=1===o;if(0===o)return null;var h=T?E:v;return a.createElement(u.IntersectionTracker,{referrerId:null!==(n=null==_?void 0:_.referrerId)&&void 0!==n?n:"",linkName:null!==(t=null==_?void 0:_.linkName)&&void 0!==t?t:""},a.createElement(m.a,{heading:f.trim()?f:function(e){if("EGDSCardinalLocalizedText"===(null==F?void 0:F.__typename)){var n=F.templates.slice(1,3),t=T?"":F.models[0].key;return ke(T?n[0].template:n[1].template,t,e.toString())}return""}(o),description:null==S?void 0:S.text,link:null!=h?h:"",linkClickFocus:c,linkClickFocusId:null!=d?d:null===(r=null==c?void 0:c.current)||void 0===r?void 0:r.id,handleUpdate:function(){var e;return null===(e=null==p?void 0:p.current)||void 0===e?void 0:e.focus()},domRef:p,analytics:y?{id:T?y.referrerId+".One.Error":y.referrerId+".Many.Errors",description:null!==(l=y.linkName)&&void 0!==l?l:"",callback:function(e,n){return g(e,n)}}:void 0}))};Le.displayName="EGDSErrorSummaryFragment",Le.fragment=Ne;var Re,Ge,xe=(0,r.Ps)(Re||(Re=ne(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"],["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"]))),Oe=(0,r.Ps)(Ge||(Ge=ne(["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"],["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"])),xe),Me=function(e){var n,t,r=e.data,l=(0,u.useClickTracker)(),i=r.egdsElementId,o=r.primary,c=r.disabled,d=r.onClick,s=r.icon,m=null!=i?i:"search_form_submit_button",E=a.useCallback((function(){if(d&&"EGDSSubmitSearchFormAction"===d.__typename){var e=d.analytics,n=e.referrerId,t=e.linkName;l(n,t)}}),[d,l]),v={id:m,disabled:c,onClick:E,type:"submit"};return a.createElement(p.Viewport,null,a.createElement(p.ViewSmall,null,a.createElement(g.Y,Z({},v,{size:S.xY.LARGE,isFullWidth:!0}),o)),a.createElement(p.ViewMedium,null,a.createElement(g.Y,Z({},v,{size:S.xY.LARGE,"aria-label":null!=o?o:""}),a.createElement(f.fR,{name:null!==(n=null==s?void 0:s.token)&&void 0!==n?n:"search",title:null!==(t=null==s?void 0:s.title)&&void 0!==t?t:"",id:null==s?void 0:s.id}))))};Me.displayName="EGDSSearchFormButton",Me.fragment=Oe;var Pe,Be,Ue,we,ze,He,Ve,We,Ye,$e,Xe,Ke,qe=function(e,n){var t=new CustomEvent("change"),a=document.createElement("input");a.value=e;var r=function(e){n(e)};a.addEventListener("change",r),a.dispatchEvent(t),a.removeEventListener("change",r)};!function(e){e.MAXIMUM_GREATER_THAN_MINIMUM="MAXIMUM_GREATER_THAN_MINIMUM",e.MAXIMUM_VALUE="MAXIMUM_VALUE",e.MINIMUM_LESS_THAN_MAXIMUM="MINIMUM_LESS_THAN_MAXIMUM",e.MINIMUM_VALUE="MINIMUM_VALUE",e.REQUIRED_VALUE="REQUIRED_VALUE"}(Pe||(Pe={})),function(e){e.CHECKED="CHECKED",e.INDETERMINATE="INDETERMINATE",e.UNCHECKED="UNCHECKED"}(Be||(Be={})),function(e){e.FRI="FRI",e.MON="MON",e.SAT="SAT",e.SUN="SUN",e.THU="THU",e.TUE="TUE",e.WED="WED"}(Ue||(Ue={})),function(e){e.LEADING="LEADING",e.TRAILING="TRAILING"}(we||(we={})),function(e){e.CHILD_AGE_REQUIRED="CHILD_AGE_REQUIRED",e.MANY_INFANT_IN_SEAT="MANY_INFANT_IN_SEAT",e.MANY_INFANT_ON_LAP="MANY_INFANT_ON_LAP",e.MAX_TRAVELERS="MAX_TRAVELERS"}(ze||(ze={})),function(e){e.EXTRA_SMALL="EXTRA_SMALL",e.LARGE="LARGE",e.MEDIUM="MEDIUM",e.MEDIUM_LARGE="MEDIUM_LARGE",e.SMALL="SMALL",e.XLARGE="XLARGE"}(He||(He={})),function(e){e.FEW="FEW",e.MANY="MANY",e.ONE="ONE",e.OTHER="OTHER",e.TWO="TWO",e.ZERO="ZERO"}(Ve||(Ve={})),function(e){e.OPTION="OPTION",e.REMOVE="REMOVE"}(We||(We={})),function(e){e.DEFAULT_TO_NON_DEFAULT="DEFAULT_TO_NON_DEFAULT",e.NON_DEFAULT_TO_DEFAULT="NON_DEFAULT_TO_DEFAULT",e.NON_DEFAULT_TO_NON_DEFAULT="NON_DEFAULT_TO_NON_DEFAULT",e.SELECTED="SELECTED",e.UNSELECTED="UNSELECTED"}(Ye||(Ye={})),function(e){e.APPLIED_FILTERS="APPLIED_FILTERS",e.FILTERS="FILTERS",e.FILTERS_PILLS="FILTERS_PILLS",e.FILTER_BAR="FILTER_BAR",e.FILTER_DIALOG="FILTER_DIALOG",e.SORT="SORT",e.SORT_AND_FILTERS="SORT_AND_FILTERS",e.SORT_TABS="SORT_TABS"}($e||($e={})),function(e){e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL"}(Xe||(Xe={}));var Qe,je=function(e){return Math.ceil(e/1e3/60/60/24)},Ze=function(e){var n=e.year,t=e.month,a=e.day;return new Date(n,t-1,a)},Je=function(e){return function(n){return a.createElement(e,null,n)}},en=function(e){return a.createElement(a.Fragment,null,e)},nn=((Ke={})[Ue.SUN]=_.Co.SUN,Ke[Ue.MON]=_.Co.MON,Ke[Ue.TUE]=_.Co.TUE,Ke[Ue.WED]=_.Co.WED,Ke[Ue.THU]=_.Co.THU,Ke[Ue.FRI]=_.Co.FRI,Ke[Ue.SAT]=_.Co.SAT,Ke),tn="EGDSDateRangePicker",an=tn+"-StartDate",rn=tn+"-EndDate",ln=(0,r.Ps)(Qe||(Qe=ne(["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    dateFormat\n    showClearDatesButton\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"],["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    dateFormat\n    showClearDatesButton\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]))),on=function(e){var n=e.analytics,t=e.data,r=e.egdsElementId,l=e.label,i=e.setFieldRefByTypename,o=e.errorMessage,c=e.autoOpen,d=(0,u.useClickTracker)(),m=t.__typename,p=t.buttonText,g=t.clearButtonText,S=t.firstDayOfWeek,E=t.selectedEndDate,v=t.endDatePlaceholderText,f=t.selectedStartDate,T=t.startDatePlaceholderText,h=t.validDaysLowerBoundInclusive,I=t.validDaysUpperBoundInclusive,D=t.dateFormat,A=t.sameDaySelectionAllowed,C=t.startDateButtonAnalytics,k=t.endDateButtonAnalytics,b=t.submitButtonAnalytics,N=t.showClearDatesButton,L=(0,s.useLocalization)().formatDateString,R=J((0,y.useDialog)("search_form_date_picker_dialog"),3),G=R[1],x=R[2],O=G.closeDialog,M=G.openDialog,P=J(a.useState(null!=c&&c),2),B=P[0],U=P[1],w=J(a.useState({startDate:L(f?Ze(f):"",{raw:D}),endDate:L(E?Ze(E):"",{raw:D}),shouldFireChangeEvent:!1}),2),z=w[0],H=w[1],V=J(a.useState(L(new Date,{raw:D})),2),W=V[0],Y=V[1],$=J(a.useState(500),2),X=$[0],K=$[1],q=(0,F.i7)(m,(function(e){return e})),Q=z.startDate,j=z.endDate,ee=z.shouldFireChangeEvent;a.useEffect((function(){var e={raw:D};if(H((function(n){return Z(Z({},n),{startDate:L(f?Ze(f):"",e)})})),H((function(n){return Z(Z({},n),{endDate:L(E?Ze(E):"",e)})})),h&&Y(L(Ze(h),e)),I){var n=Ze(I).getTime()-(new Date).getTime();K(je(n))}}),[L,E,f,h,I,D]),a.useEffect((function(){ee&&(H((function(e){return Z(Z({},e),{shouldFireChangeEvent:!1})})),qe(Q+" - "+j,q))}),[z]);var ne={buttonText:p,dateFieldProps:{startName:r,startLabel:l,endLabel:l,startId:r,startPlaceholder:T,endPlaceholder:v,routerLinkWrapper:en,showDatePicker:B,startInvalid:o},daysBookableInAdvance:X,dialogWrapper:Je(x),doubleMonths:!0,firstDayOfWeek:nn[S],onDismissCB:function(e,n){e&&O(),n||U(!1)},onOpenCB:function(e,t){var a=n.referrerId,r=n.linkName;a&&r&&d(a,r),U(!0),t&&M()},onSubmitCB:function(e,n,t){var a,r,l=null!==(a=null==b?void 0:b.referrerId)&&void 0!==a?a:"",i=null!==(r=null==b?void 0:b.linkName)&&void 0!==r?r:"";if(l&&i&&d(l,i),t&&O(),U(!1),e||n){var o=n||new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),c=L(e,{raw:D}),s=L(o,{raw:D});H({startDate:c,endDate:s,shouldFireChangeEvent:!0})}else H({startDate:"",endDate:"",shouldFireChangeEvent:!0})},onSelectStartModeCB:function(){var e,n,t=null!==(e=null==C?void 0:C.referrerId)&&void 0!==e?e:"",a=null!==(n=null==C?void 0:C.linkName)&&void 0!==n?n:"";t&&a&&d(t,a)},onSelectEndModeCB:function(){var e,n,t=null!==(e=null==k?void 0:k.referrerId)&&void 0!==e?e:"",a=null!==(n=null==k?void 0:k.linkName)&&void 0!==n?n:"";t&&a&&d(t,a)},startDate:Q,endDate:j,validStartDate:W,useSingleTrigger:!0,onMountCB:function(e){return i("EGDSSearchFormDatePickerField",e)},singleDateSelect:A,useClearDates:null!=N&&N,clearButtonText:null!=g?g:void 0};return a.createElement(a.Fragment,null,a.createElement(_.Pe,Z({},ne)),a.createElement("input",{type:"hidden","data-stid":an,name:an+"-"+r,value:Q}),a.createElement("input",{type:"hidden","data-stid":rn,name:rn+"-"+r,value:j}))};on.displayName=tn,on.fragment=ln;var cn,dn="EGDSSingleDatePicker",sn=dn+"-Date",un=(0,r.Ps)(cn||(cn=ne(["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    dateFormat\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"],["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    dateFormat\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]))),mn=function(e){var n=e.analytics,t=e.data,r=e.egdsElementId,l=e.label,i=e.placeholder,o=e.setFieldRefByTypename,c=e.errorMessage,d=e.index,m=(0,u.useClickTracker)(),p=t.__typename,g=t.buttonText,S=t.selectedStartDate,E=t.validDaysLowerBoundInclusive,v=t.validDaysUpperBoundInclusive,f=t.dateFormat,T=t.firstDayOfWeek,h=t.startDateButtonAnalytics,I=t.submitButtonAnalytics,D=(0,s.useLocalization)().formatDateString,A=J((0,y.useDialog)("search_form_date_picker_dialog"),3),C=A[1],k=A[2],b=C.closeDialog,N=C.openDialog,L=new Date;(new Date).setDate(L.getDate()+1);var R=J(a.useState(!1),2),G=R[0],x=R[1],O=J(a.useState(D(L,{raw:f})),2),M=O[0],P=O[1],B=J(a.useState(D(L,{raw:f})),2),U=B[0],w=B[1],z=J(a.useState(500),2),H=z[0],V=z[1],W=(0,F.i7)(p+"-StartDate",(function(e){return e}));a.useEffect((function(){var e={raw:f};if(S&&P(D(Ze(S),e)),E&&w(D(Ze(E),e)),v){var n=Ze(v).getTime()-(new Date).getTime();V(je(n))}}),[D,S,E,v,f]);var Y={buttonText:g,dateFieldProps:{startName:r,startLabel:l,startId:r,startPlaceholder:i,routerLinkWrapper:en,showDatePicker:G,startInvalid:c},daysBookableInAdvance:H,dialogWrapper:Je(k),doubleMonths:!0,firstDayOfWeek:nn[T],onDismissCB:function(e,n){e&&b(),n||x(!1)},onOpenCB:function(e,t){var a=n.referrerId,r=n.linkName;a&&r&&m(a,r),x(!0),t&&N()},onSubmitCB:function(e,n,t){var a,r,l=null!==(a=null==I?void 0:I.referrerId)&&void 0!==a?a:"",i=null!==(r=null==I?void 0:I.linkName)&&void 0!==r?r:"";l&&i&&m(l,i),t&&b(),P(D(e,{raw:f})),x(!1)},onSelectStartModeCB:function(){var e,n,t=null!==(e=null==h?void 0:h.referrerId)&&void 0!==e?e:"",a=null!==(n=null==h?void 0:h.linkName)&&void 0!==n?n:"";t&&a&&m(t,a)},startDate:M,validStartDate:U,onMountCB:function(e){return o("EGDSSearchFormDatePickerField",e)},onStartDateResultSelection:W,singleMode:!0},$=r+(Number.isInteger(d)?"-"+d:"");return a.createElement(a.Fragment,null,a.createElement(_.Pe,Z({},Y)),a.createElement("input",{type:"hidden","data-stid":sn,name:sn+"-"+$,value:M}))};mn.displayName=dn,mn.fragment=un;var pn,gn=(0,r.Ps)(pn||(pn=ne(["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"])),on.fragment,mn.fragment),Sn=function(e){var n=e.setFieldRefByTypename,t=e.fieldError,r=e.autoOpen,l=e.data,i=e.index,o=l.action,c=l.errorMessage,d=l.validations;if("EGDSOpenDatePickerAction"!==(null==o?void 0:o.__typename))return null;var s=t?function(e){var n,t=e.validations;return(null==t?void 0:t.sameDate)?null!=c?c:"":(null==t?void 0:t.maxDate)&&d&&"EGDSMaxLengthInputValidation"===d[0].__typename&&null!==(n=d[0].errorMessage)&&void 0!==n?n:""}(t):"",u={analytics:o.analytics,setFieldRefByTypename:n,errorMessage:s,autoOpen:r};switch(o.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(on,Z({},l,u,{data:o.datePicker}));case"EGDSSingleDatePicker":return a.createElement(mn,Z({},l,u,{data:o.datePicker,index:i}));default:return null}};Sn.displayName="EGDSSearchFormDatePickerField",Sn.fragment=gn;var En,vn="EGDSSearchFormLocationField",fn=vn+"-Location",yn=vn+"-RegionId",_n=vn+"-AirportCode",Fn=vn+"-Lat",Tn=vn+"-Long",hn=vn+"-Selected",In=function(e){var n=e.egdsElementId,t=e.essAdapter,r=e.label,l=e.placeholder,i=e.icon,o=e.value,c=e.accessibility,d=e.errorText,s=e.required,m=e.emptyResultsPlaceholder,p=e.setFieldRefByTypename,g=e.__typename,S=e.analyticsLinkName,E=e.analyticsReferrerId,v=e.closeAnalyticsLinkName,f=e.closeAnalyticsReferrerId,y=e.categorize,_=e.allowExactMatch,F=e.listTitle,h=e.handleResultSelection,I=e.onSelection,D=e.selection,A=e.index,C={term:o,data:{regionId:e.regionId,hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},selected:void 0}},k=J(a.useState(C),2),b=k[0],N=k[1];a.useEffect((function(){N(C)}),[o]);var L=(0,u.useClickTracker)();a.useEffect((function(){(null==D?void 0:D.term)&&D.term!==b.term&&N(D)}),[D]);var R=b.data||C.data,G=R.regionId,x=R.location,O=R.hierarchyInfo,M=R.selected,P=void 0===M?"":M,B=null!=x?x:{},U=B.lat,w=void 0===U?"":U,z=B.long,H=void 0===z?"":z,V=((null!=O?O:{}).airport||{}).airportCode,W=void 0===V?"":V,Y=n+(Number.isInteger(A)?"-"+A:"");return a.createElement(a.Fragment,null,a.createElement(T.cy,{id:n,name:n,adapter:t,label:r,typeaheadPlaceholder:l,icon:i,value:b.term,onUpdate:function(e){N(e),I&&I(e)},stid:n,accessibilityLabel:c,onClick:function(){""===E&&""===S||L(E,S)},onMountCB:function(e){return p(g,e)},invalid:d,required:s,typeaheadEmptyResultPlaceholder:m,onResultSelection:h,categorize:y,allowExactMatch:_,listTitle:F,onDismiss:function(){var e=null!=f?f:"",n=null!=v?v:"";e&&n&&L(e,n)}}),a.createElement("input",{type:"hidden","data-stid":fn,name:fn+"-"+Y,value:b.term}),a.createElement("input",{type:"hidden","data-stid":yn,name:yn+"-"+Y,value:G}),a.createElement("input",{type:"hidden","data-stid":_n,name:_n+"-"+Y,value:W}),a.createElement("input",{type:"hidden","data-stid":Fn,name:Fn+"-"+Y,value:w}),a.createElement("input",{type:"hidden","data-stid":Tn,name:Tn+"-"+Y,value:H}),a.createElement("input",{type:"hidden","data-stid":hn,name:hn+"-"+Y,value:P}))},Dn="EGDSSearchFormLocationField",An=Dn+"-Location",Cn=Dn+"-RegionId",kn=Dn+"-AirportCode",bn=Dn+"-Lat",Nn=Dn+"-Long",Ln=Dn+"-Values",Rn=function(e){var n=e.egdsElementId,t=e.essAdapter,r=e.label,l=e.placeholder,i=e.icon,o=e.multiLocations;e.accessibility;var c=e.errorText,d=e.required,s=e.emptyResultsPlaceholder,m=e.setFieldRefByTypename,p=e.__typename,g=e.analyticsLinkName,S=e.analyticsReferrerId,E=e.categorize,v=e.allowExactMatch,f=e.listTitle,y=e.selectedItemHeading,_=e.clearAllText,F=e.dismissButtonText,h=e.handleResultSelection,I=e.onMultiSelectItemRemove,D=e.onMultiSelectClearAll,A=e.onMultiSelectClose,C=o?o.map((function(e){return{term:e.text,data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:e.value}}})):[],k=J(a.useState(C),2),b=k[0],N=k[1],L=(0,u.useClickTracker)(),R=function(e){var n={data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:""}},t=e.map((function(e){return e.data||n.data}));return{term:e.map((function(e){return e.term})).join(","),regionId:t.map((function(e){return e.regionId})).join(","),lat:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.lat})).join(","),long:t.map((function(e){var n;return null===(n=e.location)||void 0===n?void 0:n.long})).join(","),airportCode:t.map((function(e){var n,t;return null===(t=null===(n=e.hierarchyInfo)||void 0===n?void 0:n.airport)||void 0===t?void 0:t.airportCode})).join(","),locationValues:t.map((function(e){return e.value})).join(",")}}(b),G=R.term,x=R.regionId,O=R.lat,M=R.long,P=R.airportCode,B=R.locationValues,U=r.concat(",").concat(G);return a.createElement(a.Fragment,null,a.createElement(T.cy,{id:n,name:n,adapter:t,label:r,typeaheadPlaceholder:l,icon:i,value:b.map((function(e){return e.term})),onUpdate:function(e){!b.some((function(n){return n===e}))&&e.data&&N((function(n){return ee(ee([],J(n),!1),[e],!1)}))},stid:n,accessibilityLabel:U,onClick:function(){return L(S,g)},onMountCB:function(e){return m(p,e)},invalid:c,required:d,typeaheadEmptyResultPlaceholder:s,onResultSelection:h,handleClear:function(){N([]),null==D||D(n)},onItemRemove:function(e){b.length>0&&(N((function(n){return n.filter((function(n,t){return t!==e}))})),null==I||I(b[e],n))},onDismiss:function(e){null==A||A(e,n)},categorize:E,allowExactMatch:v,listTitle:f,selectedItemHeading:y,clearAllText:_,dismissButtonText:F,isMulti:!0}),a.createElement("input",{type:"hidden","data-stid":An,name:An+"-"+n,value:G}),a.createElement("input",{type:"hidden","data-stid":Cn,name:Cn+"-"+n,value:x}),a.createElement("input",{type:"hidden","data-stid":kn,name:kn+"-"+n,value:P}),a.createElement("input",{type:"hidden","data-stid":bn,name:bn+"-"+n,value:O}),a.createElement("input",{type:"hidden","data-stid":Nn,name:Nn+"-"+n,value:M}),a.createElement("input",{type:"hidden","data-stid":Ln,name:Ln+"-"+n,value:B}))},Gn=(0,r.Ps)(En||(En=ne(["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    trending\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n  }\n"],["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    trending\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n  }\n"]))),xn="EGDSSearchFormLocationField",On=function(e){var n,t,r=e.setFieldRefByTypename,l=e.fieldError,o=e.data,c=e.adapter,d=e.selection,s=e.onMultiSelectClose,u=e.onMultiSelectItemRemove,m=e.onMultiSelectClearAll,p=e.onSelection,g=e.index,S=e.essLogger,E=e.locationsErrorText,v=(0,i.v)().context,f=v.identity,y=v.locale,_=v.siteId,h=o.__typename,I=o.label,D=o.action,A=o.placeholder,C=o.leftIcon,k=o.egdsElementId,b=o.value,N=o.errorMessage,L=o.required,R=o.multiLocations,G=o.closeAnalytics,x=null!==(n=null!=E?E:N)&&void 0!==n?n:"",O=(0,F.i7)(k,(function(e){return e}));if("OpenTypeaheadAction"!==(null==D?void 0:D.__typename))return null;var M=D.analytics,P=D.accessibility,B=D.emptyResultsPlaceholder,U=D.categorize,w=D.allowExactMatch,z=D.listTitle,H=D.selectedItemHeading,V=D.clearAllText,W=D.dismissButtonText,Y=D.info,$=Y.client,X=Y.drivable,K=Y.isDestination,q=Y.lineOfBusiness,Q=Y.maxNumberOfResults,j=Y.packageType,J=Y.personalize,ee=Y.trending,ne=Y.regionType,te=Y.typeaheadFeatures,ae=Y.isMultiLocation,re=Y.domain,le=Y.regionId,ie=(f||{}).duaid,oe=Number(null==f?void 0:f.expUserId)||-1,ce={egdsElementId:k,essAdapter:null!=c?c:new T.n7({client:null!=$?$:"",drivable:X,dest:K,domain:null!=re?re:"https://www.expedia.com/",expuserid:oe,features:null!=te?te:"",guid:ie,lob:null!=q?q:"",locale:y,maxResults:null!=Q?Q:10,trending:ee,personalize:J,regionType:null!=ne?ne:2047,siteId:_,packageType:null!=j?j:"",essLogger:S}),setFieldRefByTypename:r,categorize:U,allowExactMatch:w,listTitle:z,handleResultSelection:O,label:null!=I?I:"",placeholder:null!=A?A:"",icon:null!==(t=null==C?void 0:C.title)&&void 0!==t?t:"place",accessibility:null!=P?P:"",errorText:l?x:"",required:null!=L&&L,emptyResultsPlaceholder:null!=B?B:"",analyticsLinkName:M.linkName,analyticsReferrerId:M.referrerId,closeAnalyticsLinkName:null==G?void 0:G.linkName,closeAnalyticsReferrerId:null==G?void 0:G.referrerId,selectedItemHeading:null!=H?H:"",dismissButtonText:null!=W?W:"",selection:d,onSelection:p,index:g,__typename:h,regionId:le};return ae?a.createElement(Rn,Z({},ce,{multiLocations:null!=R?R:[],clearAllText:null!=V?V:"",onMultiSelectClose:s,onMultiSelectItemRemove:u,onMultiSelectClearAll:m})):a.createElement(In,Z({},ce,{value:null!=b?b:""}))};On.displayName=xn,(On.fragment=Gn).__typename=xn;var Mn,Pn=(0,r.Ps)(Mn||(Mn=ne(["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"],["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"])),xe),Bn=function(e){var n=e.data,t=e.onClick,r=e.isFullWidth,l=void 0===r||r,i=n.egdsElementId,o=n.primary,c=n.analytics,d=null!=i?i:"search_form_primary_button",s=(0,u.useClickTracker)(),m=a.useCallback((function(){if(c){var e=c.referrerId,n=c.linkName;s(e,n)}t()}),[c,t,s]);return a.createElement(g.Y,{id:d,onClick:m,isFullWidth:l,size:S.xY.LARGE},o)};Bn.displayName="EGDSPrimaryButton",Bn.fragment=Pn;var Un,wn=(0,r.Ps)(Un||(Un=ne(["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"],["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"])),xe),zn=function(e){var n=e.onClick,t=e.isFullWidth,r=e.size,l=e.data,i=l.egdsElementId,o=l.primary,c=l.disabled,d=l.accessibility,s=l.analytics,m=l.icon,p=null!=i?i:"search_form_tertiary_button",g=(0,u.useClickTracker)(),S=a.useCallback((function(){if(s){var e=s.referrerId,t=s.linkName;g(e,t)}n()}),[s,n,g]);return a.createElement(E.m,{"aria-label":null!=d?d:"",id:p,"data-test-id":p,onClick:S,disabled:c,isFullWidth:t,size:r},m&&a.createElement(f.fR,{name:m.id}),o)};zn.displayName="EGDSTertiaryButton",zn.fragment=wn;var Hn,Vn=(0,r.Ps)(Hn||(Hn=ne(["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"],["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]))),Wn=function(e){var n=e.data,t=e.checked,r=e.onChange,l=n.egdsElementId,i=n.description,o=n.enabled,c=n.name,d=n.required,s=n.label,m=n.checkedAnalytics,p=n.uncheckedAnalytics,g=n.state,S=J(a.useState(null!==t?t:g===Be.CHECKED),2),E=S[0],v=S[1],f=(0,u.useClickTracker)(),y=a.useCallback((function(e){if(v(e.currentTarget.checked),m&&!E){var n=m.referrerId,t=m.linkName;f(n,t)}if(p&&E){n=p.referrerId,t=p.linkName;f(n,t)}null==r||r(e)}),[m,E,r,f,p]);return a.createElement(A.R,{id:null!=l?l:"",checked:E,description:null!=i?i:void 0,disabled:!o,name:null!=c?c:void 0,onChange:y,required:d},null==s?void 0:s.text)};Wn.displayName="EGDSBasicCheckBoxFragment",(Wn.fragment=Vn).__typename="EGDSBasicCheckBox";var Yn,$n,Xn=(0,r.Ps)(Yn||(Yn=ne(["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n  }\n"],["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n  }\n"]))),Kn=function(e){var n=e.data,t=n.label,r=n.value,l=n.egdsElementId+"-"+r;return a.createElement("option",{key:l,value:r},t)};Kn.displayName="EGDSBasicOptionFragment",Kn.fragment=Xn,function(e){e.ADULTS="adults",e.CHILDREN="children",e.INFANTS="infants",e.INFANTS_ON_LAP="infants_on_lap",e.INFANTS_IN_SEAT="infants_in_seat",e.PETS="pets"}($n||($n={}));var qn,Qn=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},jn=function(e,n,t){var a;if(!t)return null;var r=n.reduce((function(e,n){var t,a,r,l;return e+n.adults.value+n.children.count.value+(null!==(a=null===(t=n.infantsInSeat)||void 0===t?void 0:t.count.value)&&void 0!==a?a:0)+(null!==(l=null===(r=n.infantsOnLap)||void 0===r?void 0:r.count.value)&&void 0!==l?l:0)}),0),l=n.reduce((function(e,n){var t,a;return e+(null!==(a=null===(t=n.infantsOnLap)||void 0===t?void 0:t.count.value)&&void 0!==a?a:0)}),0),i=n.reduce((function(e,n){var t,a;return e+(null!==(a=null===(t=n.infantsInSeat)||void 0===t?void 0:t.count.value)&&void 0!==a?a:0)}),0),o=n.reduce((function(e,n){var t;return e+(null!==(t=n.adults.value)&&void 0!==t?t:0)}),0),c=n.reduce((function(e,n){var t,a;return e+(null!==(a=null===(t=n.children)||void 0===t?void 0:t.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==a?a:0)}),0),d=function(e){return e.reduce((function(e,n){var t,a,r,l;return e+n.children.ages.filter(Qn).length+(null!==(a=null===(t=n.infantsInSeat)||void 0===t?void 0:t.ages.filter(Qn).length)&&void 0!==a?a:0)+(null!==(l=null===(r=n.infantsOnLap)||void 0===r?void 0:r.ages.filter(Qn).length)&&void 0!==l?l:0)}),0)}(n),s=c+o<i/2,u=c+o<l,m=t.map((function(e){var n;if("EGDSTravelersInputValidation"===e.__typename){var t=e.type,a=e.errorMessage,l=e.maxCount,i=e.errorSummary;return((n={})[ze.MAX_TRAVELERS]=l&&r>l?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:i}:null,n[ze.CHILD_AGE_REQUIRED]=d>0?{message:a,type:t,displayConfirmation:!1,errorCount:d,errorSummary:i}:null,n[ze.MANY_INFANT_ON_LAP]=u?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:i}:null,n[ze.MANY_INFANT_IN_SEAT]=s?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:i}:null,n)[t]}return null})).filter((function(e){return null!==e}));return m.find((function(n){return e&&e.type===n.type}))&&(null==e?void 0:e.displayConfirmation)?Z(Z({},e),{errorCount:e.type===ze.CHILD_AGE_REQUIRED?d:1}):null!==(a=m[0])&&void 0!==a?a:null},Zn=function(e,n){var t,a,r,l;switch(n.type){case"ADD_ROOM":var i=e.rooms[0],o=i.adults,c=i.label,d=i.removeRoomButton,s=i.infantsInSeat,u=i.infantsOnLap,m=i.children;if("EGDSTravelerStepInput"===o.__typename&&"EGDSTravelerChildren"===m.__typename&&m.ages){var p=Z(Z({},m.count),{value:0}),g={__typename:"EGDSTravelerSelectorRoom",children:Z(Z({},m),{count:p,ages:[]}),adults:Z(Z({},o),{value:1}),label:c,removeRoomButton:d,infantsInSeat:"EGDSTravelerInfant"===(null==s?void 0:s.__typename)?Z(Z({},s),{count:Z(Z({},s.count),{value:0}),ages:[]}):null,infantsOnLap:"EGDSTravelerInfant"===(null==u?void 0:u.__typename)?Z(Z({},u),{count:Z(Z({},u.count),{value:0}),ages:[]}):null},S=e.rooms.concat(g),E=jn(e.error?e.error:null,S,null!==(t=e.validations)&&void 0!==t?t:[]);return Z(Z({},e),{rooms:S,error:E})}return Z(Z({},e),{rooms:[]});case"REMOVE_ROOM":var v=n.roomIndex;S=e.rooms.filter((function(e,n){return n!==v})),E=jn(e.error?e.error:null,S,null!==(a=e.validations)&&void 0!==a?a:[]);return Z(Z({},e),{rooms:S,error:E});case"RESET_STATE":return n.state;case"UPDATE_INFANT_SEAT_SELECTION":return Z({},e);case"UPDATE_TRAVELERS_COUNT":var f=n.roomIndex,y=n.count,_=n.travelersType;S=e.rooms.map((function(e,n){var t,a,r,l;if(n===f)switch(_){case $n.ADULTS:return Z(Z({},e),{adults:Z(Z({},e.adults),{value:y})});case $n.CHILDREN:if("EGDSTravelerChildren"===e.children.__typename){var i=e.children,o=y>i.count.value?null===(t=i.ages)||void 0===t?void 0:t.concat(i.ageTemplate):null===(a=i.ages)||void 0===a?void 0:a.slice(0,-1),c=Z(Z({},i),{count:Z(Z({},i.count),{value:y}),ages:o});return Z(Z({},e),{children:c})}return e;case $n.INFANTS_IN_SEAT:if("EGDSTravelerInfant"===(null===(r=e.infantsInSeat)||void 0===r?void 0:r.__typename)){var d=e.infantsInSeat,s=(o=y>d.count.value?d.ages.concat(d.ageTemplate):d.ages.slice(0,-1),Z(Z({},d),{count:Z(Z({},d.count),{value:y}),ages:o}));return Z(Z({},e),{infantsInSeat:s})}return e;case $n.INFANTS_ON_LAP:if("EGDSTravelerInfant"===(null===(l=e.infantsOnLap)||void 0===l?void 0:l.__typename)){var u=e.infantsOnLap,m=(o=y>u.count.value?u.ages.concat(u.ageTemplate):u.ages.slice(0,-1),Z(Z({},u),{count:Z(Z({},u.count),{value:y}),ages:o}));return Z(Z({},e),{infantsOnLap:m})}return e;default:return e}return e})),E=jn(e.error?e.error:null,S,null!==(r=e.validations)&&void 0!==r?r:[]);return Z(Z({},e),{rooms:S,error:E});case"UPDATE_CHILD_AGE":var F=n.roomIndex,T=n.childIndex,h=n.childAge,I=n.isInfant,D=n.infantType;S=e.rooms.map((function(e,n){var t,a;return n!==F||"EGDSTravelerChildren"!==e.children.__typename||I?n===F&&"EGDSTravelerInfant"===(null===(t=e.infantsOnLap)||void 0===t?void 0:t.__typename)&&I&&D===$n.INFANTS_ON_LAP?Z(Z({},e),{infantsOnLap:Z(Z({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&T===n?Z(Z({},e),{value:h}):Z({},e)}))})}):n===F&&"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&I&&D===$n.INFANTS_IN_SEAT?Z(Z({},e),{infantsInSeat:Z(Z({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&T===n?Z(Z({},e),{value:h}):Z({},e)}))})}):e:Z(Z({},e),{children:Z(Z({},e.children),{ages:e.children.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&T===n?Z(Z({},e),{value:h}):Z({},e)}))})})})),E=jn(e.error?e.error:null,S,null!==(l=e.validations)&&void 0!==l?l:[]);return Z(Z({},e),{rooms:S,error:E});case"SHOW_ERROR":if(e.error){var A=e.error,C={message:A.message,type:A.type,displayConfirmation:!0,errorCount:A.errorCount,errorSummary:A.errorSummary};return Z(Z({},e),{error:C})}return Z({},e);default:return e}},Jn=a.createContext({state:{}}),et=function(e){var n=e.children,t=e.rooms,r=e.validations,l=J(a.useReducer(Zn,{rooms:t,validations:r}),2),i=l[0],o=l[1],c=J(a.useState(i),2),d=c[0],s=c[1];a.useEffect((function(){i!==d&&s(i)}),[i,d]);var u={state:d,dispatch:o};return a.createElement(Jn.Provider,{value:u},n)},nt=function(){return a.useContext(Jn)},tt=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},at=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},rt=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},lt=function(e,n,t){var a,r,l,i,o,c,d,s,u;if(!t)return null;var m=null!==(r=null===(a=n.children)||void 0===a?void 0:a.count.value)&&void 0!==r?r:0,p=null!==(i=null===(l=n.infantsInSeat)||void 0===l?void 0:l.count.value)&&void 0!==i?i:0,g=null!==(c=null===(o=n.infantsOnLap)||void 0===o?void 0:o.count.value)&&void 0!==c?c:0,S=null!==(d=n.adults.value)&&void 0!==d?d:0,E=S+m+p+g,v=function(e){var n;return null!==(n=null==e?void 0:e.ages.filter(tt).length)&&void 0!==n?n:0}(n.children),f=function(e){var n;return null!==(n=null==e?void 0:e.ages.filter(at).length)&&void 0!==n?n:0}(n.infantsInSeat),y=function(e){var n;return null!==(n=null==e?void 0:e.ages.filter(rt).length)&&void 0!==n?n:0}(n.infantsOnLap),_=v+f+y,F=null!==(u=null===(s=n.children)||void 0===s?void 0:s.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==u?u:0,T=F+S<g,h=F+S<p,I=t.map((function(e){var n;if("EGDSTravelersInputValidation"===e.__typename){var t=e.type,a=e.errorMessage,r=e.maxCount,l=e.errorSummary;return((n={})[ze.MAX_TRAVELERS]=r?E>r&&{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,n[ze.CHILD_AGE_REQUIRED]=_>0?{message:a,type:t,displayConfirmation:!1,errorCount:_,errorSummary:l}:null,n[ze.MANY_INFANT_ON_LAP]=T?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,n[ze.MANY_INFANT_IN_SEAT]=h?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,n)[t]}return null})).filter((function(e){return!!e}));return I.find((function(n){return e&&e.type===(null==n?void 0:n.type)}))&&(null==e?void 0:e.displayConfirmation)?Z(Z({},e),{errorCount:e.type===ze.CHILD_AGE_REQUIRED?_:1}):I?I[0]:null},it=function(e,n){var t,a,r;switch(n.type){case"RESET_STATE":return n.state;case"UPDATE_TRAVELERS_COUNT":var l=function(e,n){var t,a,r,l,i,o,c,d,s;switch(n.travelersType){case $n.ADULTS:return Z(Z({},e),{adults:Z(Z({},e.adults),{value:n.count})});case $n.CHILDREN:if("EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)){var u=e.children,m=n.count>u.count.value?null===(a=u.ages)||void 0===a?void 0:a.concat(u.ageTemplate):null===(r=u.ages)||void 0===r?void 0:r.slice(0,-1),p=Z(Z({},u),{count:Z(Z({},u.count),{value:n.count}),ages:m});return Z(Z({},e),{children:p})}return e;case $n.INFANTS_IN_SEAT:if("EGDSTravelerInfant"===(null===(l=e.infantsInSeat)||void 0===l?void 0:l.__typename)){var g=e.infantsInSeat,S=(m=n.count>g.count.value?null===(i=g.ages)||void 0===i?void 0:i.concat(g.ageTemplate):null===(o=g.ages)||void 0===o?void 0:o.slice(0,-1),Z(Z({},g),{count:Z(Z({},g.count),{value:n.count}),ages:m}));return Z(Z({},e),{infantsInSeat:S})}return e;case $n.INFANTS_ON_LAP:if("EGDSTravelerInfant"===(null===(c=e.infantsOnLap)||void 0===c?void 0:c.__typename)){var E=e.infantsOnLap,v=(m=n.count>E.count.value?null===(d=E.ages)||void 0===d?void 0:d.concat(E.ageTemplate):null===(s=E.ages)||void 0===s?void 0:s.slice(0,-1),Z(Z({},E),{count:Z(Z({},E.count),{value:n.count}),ages:m}));return Z(Z({},e),{infantsOnLap:v})}return e;default:return e}}(e.travelers,n),i=lt(e.error?e.error:null,l,null!==(t=e.validations)&&void 0!==t?t:[]);return Z(Z({},e),{travelers:l,error:i});case"UPDATE_CHILD_AGE":l=function(e,n){var t,a,r;return"EGDSTravelerChildren"===(null===(t=e.children)||void 0===t?void 0:t.__typename)&&""===n.infantType?Z(Z({},e),{children:Z(Z({},e.children),{ages:e.children.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?Z(Z({},e),{value:n.childAge}):Z({},e)}))})}):"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&n.infantType===$n.INFANTS_IN_SEAT?Z(Z({},e),{infantsInSeat:Z(Z({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?Z(Z({},e),{value:n.childAge}):Z({},e)}))})}):"EGDSTravelerInfant"===(null===(r=e.infantsOnLap)||void 0===r?void 0:r.__typename)&&n.infantType===$n.INFANTS_ON_LAP?Z(Z({},e),{infantsOnLap:Z(Z({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?Z(Z({},e),{value:n.childAge}):Z({},e)}))})}):e}(e.travelers,n),i=lt(e.error?e.error:null,l,null!==(a=e.validations)&&void 0!==a?a:[]);return Z(Z({},e),{travelers:l,error:i});case"UPDATE_PETS_FILTER":l=function(e,n){var t;if("EGDSBasicCheckBox"===(null===(t=e.pets)||void 0===t?void 0:t.__typename)){var a=n.checked?Be.CHECKED:Be.UNCHECKED;return Z(Z({},e),{pets:Z(Z({},e.pets),{state:a})})}return e}(e.travelers,n),i=lt(e.error?e.error:null,l,null!==(r=e.validations)&&void 0!==r?r:[]);return Z(Z({},e),{travelers:l,error:i});case"SHOW_ERROR":if(e.error){var o=e.error,c={message:o.message,type:o.type,displayConfirmation:!0,errorCount:o.errorCount,errorSummary:o.errorSummary};return Z(Z({},e),{error:c})}return Z({},e);default:return e}},ot=a.createContext({state:{}}),ct=function(e){var n=e.children,t=e.travelers,r=e.validations,l=J(a.useReducer(it,{travelers:t,validations:r}),2),i={state:l[0],dispatch:l[1]};return a.createElement(ot.Provider,{value:i},n)},dt=function(){return a.useContext(ot)},st=(0,r.Ps)(qn||(qn=ne(["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"],["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"])),Kn.fragment),ut=function(e){var n=e.childIndex,t=e.roomIndex,r=e.isInfant,l=e.infantType,i=e.childAgeRef,o=e.data,c=nt(),d=dt(),s=void 0!==t,u=o.labelTemplate,m=o.options,p=o.egdsElementId,g=o.value,S="child-"+p+(s?"-"+t:"")+"-"+n,E="age-"+p+(s?"-"+t:"")+"-"+n,v=n+1,f=null!=g?g:"",y=Number.isInteger(f),_=(s?c.state:d.state).error,F=(null==_?void 0:_.type)===ze.CHILD_AGE_REQUIRED&&_.displayConfirmation,T=_&&_.type===ze.CHILD_AGE_REQUIRED&&!y&&F?_.message:"",h="EGDSBasicLocalizedText"===u.__typename&&1===u.models.length?ke(u.template,u.models[0].key,v.toString()):"";return a.createElement(C.e,{domRef:i,invalid:T,label:h,id:E,name:S,onChange:function(e){var a=parseInt(e.target.value,10);!Number.isNaN(a)&&(s?c.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:t,childIndex:n,childAge:a,isInfant:r,infantType:l}):d.dispatch({type:"UPDATE_CHILD_AGE",childIndex:n,childAge:a,infantType:l}))},value:f,emptyState:"string"==typeof f,required:!0},m.map((function(e){return"EGDSBasicOption"===e.__typename&&a.createElement(Kn,{key:S+"-"+e.value,data:e})})))};ut.displayName="EGDSTravelerChildAgeSelectFragment",(ut.fragment=st).__typename="EGDSTravelerChildAgeSelect";var mt,pt,gt,St,Et,vt=(0,r.Ps)(mt||(mt=ne(["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"],["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"]))),ft=(0,r.Ps)(pt||(pt=ne(["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"],["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"])),vt),yt=(0,r.Ps)(gt||(gt=ne(["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"],["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"])),vt),_t=(0,r.Ps)(St||(St=ne(["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"],["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"])),vt);(0,r.Ps)(Et||(Et=ne(["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"])),ft,yt,_t);var Ft,Tt=(0,r.Ps)(Ft||(Ft=ne(["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"],["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"])),ft),ht=function(e,n){if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){var t=(n+1).toString();return e?ke(e.template,e.models[0].key,t):""}return""},It=function(e){var n=e.roomIndex,t=e.travelersType,r=e.data,l=r.label,i=r.max,o=r.min,c=r.subLabel,d=r.value,s=nt(),m=dt(),p=(0,u.useClickTracker)(),g=void 0!==n,S="EGDSTravelerStepInput"===r.__typename&&(g?{incrementText:ht(r.increaseTextTemplate,n),decrementText:ht(r.decreaseTextTemplate,n)}:{incrementText:r.increaseText||"",decrementText:r.decreaseText||""}),E="EGDSTravelerStepInput"===r.__typename?r.egdsElementId+(g?"-"+n:""):"";return a.createElement(N.Q,Z({},S,{label:l,incrementId:E+"-increase",decrementId:E+"-decrease",min:null!=o?o:0,max:null!=i?i:0,onChange:function(e){var a=parseInt(e.target.value,10);"EGDSTravelerStepInput"===r.__typename&&(a>d?p(r.increaseAnalytics.referrerId,r.increaseAnalytics.linkName):p(r.decreaseAnalytics.referrerId,r.decreaseAnalytics.linkName)),Number.isNaN(a)||(g?s.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,roomIndex:n,count:a}):m.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:t,count:a}))},value:d,description:null!=c?c:"",id:E}))};It.displayName="EGDSTravelerStepInputFragment",(It.fragment=Tt).__typename="EGDSTravelerStepInput";var Dt,At=(0,r.Ps)(Dt||(Dt=ne(["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),It.fragment,ut.fragment),Ct=function(e){var n,t,r=e.data,l=e.childAgeRef,i=e.roomIndex,o=e.travelersType,c=r.count,s=r.__typename,u=o===$n.INFANTS||o===$n.INFANTS_ON_LAP||o===$n.INFANTS_IN_SEAT,m=null===(n=r.ages)||void 0===n?void 0:n.findIndex((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}));return a.createElement(a.Fragment,null,c&&"EGDSTravelerStepInput"===c.__typename&&a.createElement(It,{travelersType:o,roomIndex:i,data:c}),a.createElement(h.v,{wrap:"wrap"},("EGDSTravelerChildren"===s||"EGDSTravelerInfant"===s)&&(null===(t=r.ages)||void 0===t?void 0:t.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:n},a.createElement(d.l,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(h.t,{minWidth:"half_width"},a.createElement("div",null,a.createElement(ut,{key:n,childIndex:n,roomIndex:i,isInfant:u,infantType:u?o:"",data:e,childAgeRef:m===n?l:void 0})))))})))))};Ct.displayName="EGDSTravelersChildren",(Ct.fragment=At).__typename="EGDSTravelerChildren";var kt,bt=function(e){var n=e.data,t=dt(),r=t.state,l=t.dispatch,i=r.travelers.pets;if("EGDSBasicCheckBox"!==(null==i?void 0:i.__typename))return null;var o=i.state===Be.CHECKED;return a.createElement(Wn,{data:n,checked:o,onChange:function(e){l({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},Nt=(0,r.Ps)(kt||(kt=ne(["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),Wn.fragment,Ct.fragment,It.fragment),Lt=function(e){var n=e.childAgeRef,t=e.infantsOnLapRef,r=e.infantsInSeatRef,l=e.data,i=l.adults,o=l.children,c=l.pets,s=l.infantsInSeat,u=l.infantsOnLap;return a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===i.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(It,{travelersType:$n.ADULTS,data:i}))),"EGDSTravelerChildren"===(null==o?void 0:o.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.CHILDREN,childAgeRef:n,data:o}))),"EGDSTravelerInfant"===(null==u?void 0:u.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.INFANTS_ON_LAP,childAgeRef:t,data:u}))),"EGDSTravelerInfant"===(null==s?void 0:s.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.INFANTS_IN_SEAT,childAgeRef:r,data:s}))),"EGDSBasicCheckBox"===(null==c?void 0:c.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(bt,{data:c}))))};Lt.displayName="EGDSTravelersFragment",(Lt.fragment=Nt).__typename="EGDSTravelers";var Rt,Gt=(0,r.Ps)(Rt||(Rt=ne(["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"],["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),Le.fragment,Bn.fragment,zn.fragment,Lt.fragment),xt=function(e){var n=e.onSave,t=e.data.doneButton,r=dt(),l=r.state,i=r.dispatch,o=a.useRef(null),c=a.useRef(null),s=a.useRef(null),u=l.travelers,m=l.error,g=o.current?o:c.current?c:s,S=function(){m&&m.type===ze.CHILD_AGE_REQUIRED&&i({type:"SHOW_ERROR"}),m||n(l)};return a.createElement(h.v,{direction:"column"},(null==m?void 0:m.displayConfirmation)&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Le,{data:m.errorSummary,inputErrorRef:g,errorCount:m.errorCount}))),a.createElement("section",null,a.createElement(Lt,{data:u,childAgeRef:o,infantsOnLapRef:c,infantsInSeatRef:s})),"UIPrimaryButton"===t.__typename&&a.createElement(p.Viewport,null,a.createElement(p.ViewSmall,null,a.createElement(I.o,{type:D.k.BUTTON},a.createElement(Bn,{onClick:S,data:t}))),a.createElement(p.ViewMedium,null,a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Bn,{onClick:S,data:t}))))))};xt.displayName="EGDSBasicTravelerSelectorFragment",(xt.fragment=Gt).__typename="EGDSBasicTravelerSelector";var Ot,Mt=(0,r.Ps)(Ot||(Ot=ne(["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),It.fragment,Ct.fragment,zn.fragment),Pt=function(e){var n=e.roomIndex,t=e.childAgeRef,r=e.infantsOnLapRef,l=e.infantsInSeatRef,i=e.data,o=i.adults,c=i.children,s=i.infantsInSeat,u=i.infantsOnLap,m=i.label,p=i.removeRoomButton,g=nt(),S=g.state,E=g.dispatch,v=n+1;return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===m.__typename&&1===m.models.length&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement(L.y,{size:7},ke(m.template,m.models[0].key,v.toString()))),"EGDSTravelerStepInput"===o.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(It,{travelersType:$n.ADULTS,roomIndex:n,data:o}))),"EGDSTravelerChildren"===c.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.CHILDREN,roomIndex:n,childAgeRef:t,data:c}))),"EGDSTravelerInfant"===(null==u?void 0:u.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.INFANTS_ON_LAP,roomIndex:n,childAgeRef:r,data:u}))),"EGDSTravelerInfant"===(null==s?void 0:s.__typename)&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Ct,{travelersType:$n.INFANTS_IN_SEAT,roomIndex:n,childAgeRef:l,data:s}))),S.rooms.length>1&&p&&"UITertiaryButton"===p.__typename&&a.createElement(d.l,{padding:{blockstart:"two"}},a.createElement(h.v,{justifyContent:"end"},a.createElement(h.t,null,a.createElement(zn,{onClick:function(){E({type:"REMOVE_ROOM",roomIndex:n})},data:p})))))};Pt.displayName="EGDSTravelerSelectorRoomFragment",(Pt.fragment=Mt).__typename="EGDSTravelerSelectorRoom";var Bt,Ut=(0,r.Ps)(Bt||(Bt=ne(["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"],["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),Le.fragment,Bn.fragment,zn.fragment,Pt.fragment),wt=function(e){var n=e.onSave,t=e.data,r=t.addAnotherRoomButton,l=t.doneButton,i=t.maxRoomCount,o=nt(),c=o.state,s=o.dispatch,u=a.useRef(null),m=c.rooms,g=c.error;if(m.length<1)return null;var S=function(){g&&g.type===ze.CHILD_AGE_REQUIRED&&s({type:"SHOW_ERROR"}),g||n(c)},E=Z(Z({},r),{disabled:!!i&&m.length>=i}),v=m.findIndex((function(e){var n,t,a,r,l,i;return(null===(n=e.children)||void 0===n?void 0:n.ages)&&(null===(t=e.children)||void 0===t?void 0:t.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))||null!==(r=null===(a=e.infantsInSeat)||void 0===a?void 0:a.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))&&void 0!==r&&r||null!==(i=null===(l=null==e?void 0:e.infantsOnLap)||void 0===l?void 0:l.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))&&void 0!==i&&i}));return a.createElement(h.v,{direction:"column"},(null==g?void 0:g.displayConfirmation)&&a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Le,{data:g.errorSummary,inputErrorRef:u,errorCount:g.errorCount}))),a.createElement("section",null,m.map((function(e,n){return a.createElement(Pt,{key:n,roomIndex:n,data:e,childAgeRef:v===n?u:void 0})})),"UITertiaryButton"===E.__typename&&a.createElement(d.l,{padding:{small:{blockstart:"two",blockend:"sixteen"},medium:{blockend:"unset"}}},a.createElement(h.v,{justifyContent:"end"},a.createElement(h.t,null,a.createElement(zn,{onClick:function(){s({type:"ADD_ROOM"})},data:E}))))),"UIPrimaryButton"===l.__typename&&a.createElement(p.Viewport,null,a.createElement(p.ViewSmall,null,a.createElement(I.o,{type:D.k.BUTTON},a.createElement(Bn,{onClick:S,data:l}))),a.createElement(p.ViewMedium,null,a.createElement(d.l,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Bn,{onClick:S,data:l}))))))};wt.displayName="EGDSTravelerSelectorFragment",(wt.fragment=Ut).__typename="EGDSRoomsTravelerSelector";var zt,Ht=function(e,n,t){void 0===t&&(t=!1);var a=e[t?"secondaryTemplates":"templates"].find((function(e){return e.category===function(e){return 0===e?Ve.ZERO:1===e?Ve.ONE:2===e?Ve.TWO:e>2&&e<5?Ve.FEW:e>=5&&e<10?Ve.MANY:Ve.OTHER}(n)}));return a?ke(a.template,e.models[0].key,n.toString()):""},Vt="EGDSSearchFormTravelersField-Adult",Wt=function(e){var n=e.ages,t=e.prefix;return a.createElement(a.Fragment,null,n.map((function(e,n){var r;if("EGDSTravelerChildAgeSelect"===e.__typename){var l=t+"-"+(n+1);return a.createElement("input",{key:n,type:"hidden","data-stid":l,name:l,value:null!==(r=e.value)&&void 0!==r?r:""})}return null})))},Yt=function(e){var n,t=e.label,r=e.leftIcon,l=e.action,i=e.labelTemplate,o=e.readOnly,c=l.analytics,s=l.travelerSelector,m=(0,u.useClickTracker)(),g=dt(),S=g.dispatch,E=g.state,v=J((0,y.useDialog)("travelerSelectorDialog"),3),f=v[1],_=v[2],T=J(a.useState(!1),2),h=T[0],I=T[1],D=J(a.useState(E),2),A=D[0],C=D[1],b=J(a.useState(null!==(n=null==i?void 0:i.text)&&void 0!==n?n:""),2),N=b[0],R=b[1],G=(0,F.i7)(s.__typename,(function(e){return e}));if("EGDSBasicTravelerSelector"!==s.__typename)return null;var P=function(e){var n,t,a,r,l,o,c,d=null!==(t=null===(n=e.children)||void 0===n?void 0:n.count.value)&&void 0!==t?t:0,s=null!==(r=null===(a=e.infantsInSeat)||void 0===a?void 0:a.count.value)&&void 0!==r?r:0,u=null!==(o=null===(l=e.infantsOnLap)||void 0===l?void 0:l.count.value)&&void 0!==o?o:0,m=e.adults.value+d+s+u,p="EGDSBasicCheckBox"===(null===(c=null==e?void 0:e.pets)||void 0===c?void 0:c.__typename)&&e.pets.state===Be.CHECKED,g=Ht(i,m,p);qe(g,G),R(g)},B=E.travelers,U=B.adults,w=B.children,z=B.pets,H=B.infantsInSeat,V=B.infantsOnLap;return a.createElement(a.Fragment,null,a.createElement(p.Viewport,null,a.createElement(p.ViewMedium,null,a.createElement(O.p2,{isOpen:h,onTriggerClick:function(){I((function(e){return!e})),m(c.referrerId,c.linkName)},onDismiss:function(){S({type:"RESET_STATE",state:A})}},a.createElement(O.Hp,null,a.createElement(k.o,{label:t,value:N,icon:r,"data-stid":"open-room-picker",disabled:o})),a.createElement(O.as,{autoPosition:!0,position:O.d.RIGHT,width:375,showOverTrigger:!0},a.createElement(d.l,{padding:{inline:"four",blockstart:"four"}},a.createElement("div",null,a.createElement(L.y,{size:5},s.title),a.createElement(xt,{onSave:function(e){P(e.travelers),C(e),I((function(e){return!e}))},data:s})))))),a.createElement(p.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(k.o,{label:t,value:N,onClick:function(){f.openDialog(),m(c.referrerId,c.linkName)},icon:r,"data-stid":"open-room-picker",disabled:o}),a.createElement(_,null,a.createElement(x.NB,{dialogShow:!0,returnFocusOnClose:!0,wideContent:!0,strictFullscreen:!0},a.createElement(M.bW,{toolbarTitle:s.title,navigationContent:{navType:"close",onClick:function(){if(("UIPrimaryButton"===s.closeButton.__typename||"UITertiaryButton"===s.closeButton.__typename)&&s.closeButton.analytics){var e=s.closeButton.analytics,n=e.referrerId,t=e.linkName;m(n,t)}S({type:"RESET_STATE",state:A}),f.closeDialog()}}}),a.createElement(x.D$,null,a.createElement(F.$I,{hasRequiredFieldIndicator:!0},a.createElement(xt,{onSave:function(e){P(e.travelers),C(e),f.closeDialog()},data:s})))))))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":""+Vt,name:""+Vt,value:U.value}),"EGDSTravelerChildren"===(null==w?void 0:w.__typename)&&w.ages&&a.createElement(Wt,{ages:w.ages,prefix:"EGDSSearchFormTravelersField-ChildrenAge"}),"EGDSTravelerInfant"===(null==H?void 0:H.__typename)&&H.ages&&a.createElement(Wt,{ages:H.ages,prefix:"EGDSSearchFormTravelersField-InfantInSeatAge"}),"EGDSTravelerInfant"===(null==V?void 0:V.__typename)&&V.ages&&a.createElement(Wt,{ages:V.ages,prefix:"EGDSSearchFormTravelersField-InfantOnLapAge"}),"EGDSBasicCheckBox"===(null==z?void 0:z.__typename)&&a.createElement("input",{type:"hidden",name:"EGDSSearchFormTravelersField-Pets",value:z.state})))},$t="EGDSSearchFormTravelersField-Adult",Xt=function(e){var n,t=e.label,r=e.leftIcon,l=e.action,i=e.labelTemplate,o=e.readOnly,c=l.analytics,s=l.travelerSelector,m=(0,u.useClickTracker)(),g=nt(),S=g.dispatch,E=g.state,v=J((0,y.useDialog)("travelerSelectorDialog"),3),f=v[1],_=v[2],T=J(a.useState(!1),2),h=T[0],I=T[1],D=J(a.useState(E),2),A=D[0],C=D[1],b=J(a.useState(null!==(n=null==i?void 0:i.text)&&void 0!==n?n:""),2),N=b[0],R=b[1],G=(0,F.i7)(s.__typename,(function(e){return e}));if("EGDSRoomsTravelerSelector"!==s.__typename)return null;var P=function(e){var n=e.reduce((function(e,n){var t,a,r,l,i,o;return e+(n.adults.value+n.children.count.value+(null!==(r=null===(a=null===(t=n.infantsInSeat)||void 0===t?void 0:t.count)||void 0===a?void 0:a.value)&&void 0!==r?r:0)+(null!==(o=null===(i=null===(l=n.infantsOnLap)||void 0===l?void 0:l.count)||void 0===i?void 0:i.value)&&void 0!==o?o:0))}),0),t=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var a=e.models,r=e.template,l=a.map((function(e,t){return"EGDSCardinalLocalizedText"===e.models.__typename?Ht(e.models,n[t]):""}));return a.reduce((function(e,n,t){return ke(e,n.key,l[t])}),r)}(i,e.length,n);qe(t,G),R(t)};return a.createElement(a.Fragment,null,a.createElement(p.Viewport,null,a.createElement(p.ViewMedium,null,a.createElement(O.p2,{isOpen:h,onTriggerClick:function(){I((function(e){return!e})),m(c.referrerId,c.linkName)},onDismiss:function(){S({type:"RESET_STATE",state:A})}},a.createElement(O.Hp,null,a.createElement(k.o,{label:t,value:N,icon:r,"data-stid":"open-room-picker",disabled:o})),a.createElement(O.as,{autoPosition:!0,position:O.d.RIGHT,width:400,showOverTrigger:!0},a.createElement(d.l,{padding:{inline:"four",blockstart:"four"}},a.createElement("div",null,a.createElement(L.y,{size:5},s.title),a.createElement(wt,{onSave:function(e){P(e.rooms),C(e),I((function(e){return!e}))},data:s})))))),a.createElement(p.ViewSmall,null,a.createElement(a.Fragment,null,a.createElement(k.o,{label:t,value:N,onClick:function(){f.openDialog(),m(c.referrerId,c.linkName)},icon:r,"data-stid":"open-room-picker",disabled:o}),a.createElement(_,null,a.createElement(x.NB,{dialogShow:!0,returnFocusOnClose:!0,wideContent:!0,strictFullscreen:!0},a.createElement(M.bW,{toolbarTitle:s.title,navigationContent:{navType:"close",onClick:function(){if(("UIPrimaryButton"===s.closeButton.__typename||"UITertiaryButton"===s.closeButton.__typename)&&s.closeButton.analytics){var e=s.closeButton.analytics,n=e.referrerId,t=e.linkName;m(n,t)}S({type:"RESET_STATE",state:A}),f.closeDialog()}}}),a.createElement(x.D$,null,a.createElement(F.$I,{hasRequiredFieldIndicator:!0},a.createElement(wt,{onSave:function(e){P(e.rooms),C(e),f.closeDialog()},data:s})))))))),E.rooms.map((function(e,n){var t,r,l,i=e.adults,o=e.children,c=e.infantsInSeat,d=e.infantsOnLap,s=n+1;return a.createElement(a.Fragment,{key:n},a.createElement("input",{type:"hidden","data-stid":$t+"-"+s,name:$t+"-Room"+s,value:i.value}),"EGDSTravelerChildren"===o.__typename&&(null===(t=o.ages)||void 0===t?void 0:t.map((function(e,n){var t;if("EGDSTravelerChildAgeSelect"===e.__typename){var r="EGDSSearchFormTravelersField-ChildrenAge-Room"+s+"-Child"+(n+1);return a.createElement("input",{key:n,type:"hidden","data-stid":r,name:r,value:null!==(t=e.value)&&void 0!==t?t:""})}return null}))),"EGDSTravelerInfant"===(null==c?void 0:c.__typename)&&(null===(r=c.ages)||void 0===r?void 0:r.map((function(e,n){var t;if("EGDSTravelerChildAgeSelect"===e.__typename){var r="EGDSSearchFormTravelersField-InfantInSeatAge-Room"+s+"-Infant"+(n+1);return a.createElement("input",{key:n,type:"hidden","data-stid":r,name:r,value:null!==(t=e.value)&&void 0!==t?t:""})}return null}))),"EGDSTravelerInfant"===(null==d?void 0:d.__typename)&&(null===(l=d.ages)||void 0===l?void 0:l.map((function(e,n){var t;if("EGDSTravelerChildAgeSelect"===e.__typename){var r="EGDSSearchFormTravelersField-InfantOnLapAge-Room"+s+"-Infant"+(n+1);return a.createElement("input",{key:n,type:"hidden","data-stid":r,name:r,value:null!==(t=e.value)&&void 0!==t?t:""})}return null}))))})))},Kt=(0,r.Ps)(zt||(zt=ne(["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"],["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"])),xt.fragment,wt.fragment),qt=function(e){var n=e.data,t=n.action,r=n.label,l=n.labelTemplate,i=n.leftIcon,o=n.readOnly;if("EGDSOpenTravelerSelectorAction"!==(null==t?void 0:t.__typename))return null;switch(t.travelerSelector.__typename){case"EGDSBasicTravelerSelector":var c=t.travelerSelector,d=c.travelers,s=c.validations;return d&&"EGDSCardinalLocalizedText"===(null==l?void 0:l.__typename)?a.createElement(ct,Z({},{travelers:d,validations:s}),a.createElement(Yt,{label:null!=r?r:"",leftIcon:null==i?void 0:i.id,action:t,labelTemplate:l,readOnly:o})):null;case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==l?void 0:l.__typename)?a.createElement(et,{rooms:t.travelerSelector.rooms,validations:t.travelerSelector.validations},a.createElement(Xt,{label:null!=r?r:"",leftIcon:null==i?void 0:i.id,action:t,labelTemplate:l,readOnly:o})):null;default:return null}};qt.displayName="EGDSSearchFormTravelersField",qt.fragment=Kt;var Qt,jt=(0,r.Ps)(Qt||(Qt=ne(["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    hideButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"],["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    hideButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"])),zn.fragment),Zt=function(e){var n,t=e.data,r=e.children,l=e.autoOpenPlayback,i=t.primary,o=t.secondaries,c=t.showAction,d=t.hideButton,s=(0,u.useClickTracker)(),m=J(a.useState(!l),2),p=m[0],g=m[1];if("EGDSShowSearchFormAction"!==c.__typename||"UITertiaryButton"!==d.__typename)return null;var E=c.accessibility,v=c.analytics,y=c.icon,_=f.eZ[null!==(n=y.size)&&void 0!==n?n:"SMALL"];return a.createElement(a.Fragment,null,p&&a.createElement(P.tm,{border:!0,padded:!0},a.createElement(B.aO,{space:"three",columns:[(0,B.ZT)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(B.PY,null,a.createElement("div",null,a.createElement(L.y,{size:6,tag:"h2",overflow:"truncate"},i.text),a.createElement(B.aO,{columns:[(0,B.wA)(o.length,"max-content")],space:"six"},o.map((function(e,n){return a.createElement(B.PY,{key:"secondary-"+n},a.createElement(R.b,{size:200,overflow:"truncate"},"EGDSPlainText"===e.__typename?e.text:""))}))))),a.createElement(B.PY,null,a.createElement(f.fR,{id:y.id,name:y.id,size:_}))),a.createElement(P.oX,null,a.createElement("button",{type:"button",onClick:function(){g(!1),s(v.referrerId,v.linkName)},"aria-label":E}))),a.createElement(h.v,{space:"three",direction:"column",className:p?"is-visually-hidden is-hidden":""},r,a.createElement(zn,{onClick:function(){if(g(!0),d.analytics){var e=d.analytics,n=e.referrerId,t=e.linkName;s(n,t)}},isFullWidth:!0,size:S.xY.SMALL,data:d})))};Zt.fragment=jt,Zt.displayName="EGDSSearchPlayback";var Jt,ea=function(e){var n=e.children;return a.createElement(U.n,{zIndex:500},a.createElement(w.K2,{layout:"fullwidth"},a.createElement(d.l,{padding:{block:"four"}},a.createElement("div",{"data-stid":"sticky-search-form"},n))))},na=function(e,n){void 0===n&&(n=1);var t=new Date(e);return t.setDate(t.getDate()+n),t},ta=function(e,n){var t;return void 0===n&&(n=""),null!==(t={"origin_select-input":e+"Origin","destination_select-input":e+"Destination"}[n])&&void 0!==t?t:e},aa=function(e){var n;return{__typename:ta("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:""!==(null===(n=e)||void 0===n?void 0:n.value)}},ra=function(e){var n,t,a,r,l=e.startDateInput,i=e.endDateInput,o=e.config,c=na(null!==(t=null===(n=l)||void 0===n?void 0:n.value)&&void 0!==t?t:""),d=na(null!==(r=null===(a=i)||void 0===a?void 0:a.value)&&void 0!==r?r:""),s=d>=na(c,o.maxNumberOfDaysSelected),u=c===d;return{__typename:"EGDSSearchFormDatePickerField",isValid:!s&&!u,validations:{maxDate:s,sameDate:u}}},la=function(e){var n=e.location,t=e.dates,a=[aa(n.origin),ra(t)];return n.destination&&a.push(function(e,n){var t,a=null!==(t=n.value)&&void 0!==t?t:"",r=""===a,l=!!e&&!r&&e.value===a,i=!r&&!l;return{__typename:ta("EGDSSearchFormLocationField",null==n?void 0:n.id),isValid:i,validations:{sameLocationSelected:l}}}(n.origin,n.destination)),a.filter((function(e){return!1===e.isValid}))},ia=function(e){return function(n){return n.getAttribute("name")===e}},oa="EGDSSearchFormLocationField",ca=oa+"-Location",da=oa+"-RegionId",sa="EGDSDateRangePicker",ua=sa+"-StartDate",ma=sa+"-EndDate",pa="EGDSSearchFormTravelersField",ga=pa+"-ChildrenAge-Room",Sa="EGDSSearchFormTravelersField",Ea=Sa+"-Adult",va=Sa+"-ChildrenAge",fa={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"};!function(e){e.CHECKED="CHECKED",e.INDETERMINATE="INDETERMINATE",e.UNCHECKED="UNCHECKED"}(Jt||(Jt={}));var ya,_a;!function(e){e.LODGING="LODGING",e.CRUISES="CRUISES",e.FLIGHTS="FLIGHTS",e.ACTIVITIES="ACTIVITIES"}(_a||(_a={}));var Fa,Ta,ha,Ia,Da=((ya={})[_a.LODGING]=function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;if(t.startsWith(ca))return Z(Z({},e),{destination:a});if(t.startsWith(da))return Z(Z({},e),{regionId:a});if(t.startsWith("EGDSSearchFormLocationField-Lat"))return Z(Z({},e),{latLong:a});if(t.startsWith("EGDSSearchFormLocationField-Long"))return Z(Z({},e),{latLong:e.latLong+","+a});if(t.startsWith(ua))return Z(Z({},e),{d1:a,startDate:a});if(t.startsWith(ma))return Z(Z({},e),{d2:a,endDate:a});if(t.startsWith("EGDSSearchFormTravelersField-Adult-Room")){var r=e.adults,l=r?r+","+a:a;return Z(Z({},e),{adults:l})}if(t.startsWith(ga)){var i=e.children,o=t.substr(ga.length,1)+"_"+a,c=i?i+","+o:o;return Z(Z({},e),{children:c})}if(t.startsWith(Ea))return Z(Z({},e),{adults:a});if(t.startsWith(va)){o=1+"_"+a,c=(i=e.children)?i+","+o:o;return Z(Z({},e),{children:c})}if(t.startsWith("EGDSSearchFormTravelersField-Pets")){var d=a===Jt.CHECKED;return Z(Z(Z({},e),{isPets:d}),d&&{house_rules_group:"pets_allowed"})}return t.startsWith("EGDSSearchFormLocationField-Selected")?Z(Z({},e),{selected:a}):e}),{});return"?"+Object.keys(n).map((function(e){return e+"="+n[e]})).join("&")},ya[_a.CRUISES]=function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;if(t.startsWith("EGDSSearchFormLocationField-Values"))return Z(Z({},e),{destination:a.replace(/,/g,"|")});if(t.startsWith(ua))return Z(Z({},e),{"earliest-departure-date":a});if(t.startsWith(ma))return Z(Z({},e),{"latest-departure-date":a});if(t.startsWith("SearchFormDurationSpanField-Min"))return Z(Z({},e),{"min-length":a});if(t.startsWith("SearchFormDurationSpanField-Max"))return Z(Z({},e),{"max-length":a});if(t.startsWith(Ea))return Z(Z({},e),{adultCount:a});if(t.startsWith(va)){var r=e.childAges,l=r?r+","+a:a,i=l.split(",").length;return Z(Z({},e),{childCount:i,childAges:l})}return e}),{});return"?"+Object.keys(n).map((function(e){return e+"="+n[e]})).join("&")},ya[_a.FLIGHTS]=function(e){var n={from:"",to:"",departureDate:""},t={adults:0,seniors:0,childAges:[]},a=e.reduce((function(e,a){var r=a.name,l=a.value;return r.includes("flight_type_selector")?Z(Z({},e),{trip:fa[l]}):r.includes("cabin_class")?Z(Z({},e),{options:"cabinclass:"+l}):r.startsWith(ca)&&r.includes("origin_select")?(n.from=l,e):r.startsWith(ca)&&r.includes("destination_select")?(n.to=l,e):r.startsWith(ua)?(n.departureDate=l,Z(Z({},e),{fromDate:l})):r.startsWith(Ea)?(t.adults=+l,e):r.startsWith(va)?(t.childAges.push(l),e):e}),{"flight-type":"on",mode:"search"}),r=t.childAges.length||0,l=r?r+"["+t.childAges.join(";")+"]":r.toString();return a.legs=[n],a.passengers="children:"+l+",adults:"+t.adults+",seniors:0,infantinlap:Y","?"+Object.keys(a).map((function(e){return"legs"===e&&a.legs?a.legs.map((function(e,n){return"leg"+(n+1)+"=from:"+e.from+",to:"+e.to+",departure:"+e.departureDate+"TANYT"})).join("&"):e+"="+a[e]})).join("&")},ya[_a.ACTIVITIES]=function(e){var n=e.reduce((function(e,n){var t=n.name,a=n.value;return t.startsWith(ca)?Z(Z({},e),{location:a}):t.startsWith(da)?Z(Z({},e),{rid:a}):t.startsWith(ua)?Z(Z({},e),{d1:a,startDate:a}):t.startsWith(ma)?Z(Z({},e),{d2:a,endDate:a}):e}),{});return"?"+Object.keys(n).map((function(e){return e+"="+n[e]})).join("&")},ya);!function(e){e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSRoomsTravelerSelector"}(Fa||(Fa={})),function(e){e.DESTINATION="destination",e.REGION_ID="regionId",e.LAT_LONG="latLong",e.DATE_ONE="d1",e.DATE_TWO="d2",e.START_DATE="startDate",e.END_DATE="endDate",e.ADULTS="adults",e.CHILDREN="children",e.SELECTED="selected"}(Ta||(Ta={})),function(e){e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter"}(ha||(ha={})),function(e){e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price"}(Ia||(Ia={}));var Aa,Ca,ka=function(e){var n=J(e.split("-"),3),t=n[0],a=n[1],r=n[2];return{year:parseInt(t,10),month:parseInt(a,10),day:parseInt(r,10)}},ba=function(e){var n=function(e){var n=e.destination,t=e.regionId,a=e.latLong,r=e.selected;if(!n)return null;var l=J((null==a?void 0:a.split(",").map((function(e){return parseInt(e,10)})))||[null,null],2),i=l[0],o=l[1];return Z({regionName:n,regionId:t,coordinates:i&&o?{latitude:i,longitude:o}:null},r&&{pinnedPropertyId:r})}({destination:e.get(Ta.DESTINATION),regionId:e.get(Ta.REGION_ID),latLong:e.get(Ta.LAT_LONG),selected:e.get(Ta.SELECTED)}),t=function(e){var n=e.startDate,t=e.endDate;return n&&t?{checkInDate:ka(n),checkOutDate:ka(t)}:null}({startDate:e.get(Ta.START_DATE),endDate:e.get(Ta.END_DATE)}),a=function(e){var n=e.adults,t=e.children,a=(null==n?void 0:n.split(",").map((function(e){return parseInt(e,10)})))||[],r=(null==t?void 0:t.split(","))||[];return a.map((function(e,n){var t=n+1;return{adults:e,children:r.filter((function(e){return e.startsWith(t.toString())})).map((function(e){return{age:parseInt(e.split("_")[1],10)}}))}})).filter((function(e){return!Number.isNaN(e.adults)}))}({adults:e.get(Ta.ADULTS),children:e.get(Ta.CHILDREN)}),r=function(e){var n=e.queryParams,t=[];return Object.values(Ia).forEach((function(e){var a=n.getAll(e);if((null==a?void 0:a.length)&&""!==a[0]){var r=a.map(Number);t.push({id:e,min:Math.min.apply(Math,ee([],J(r),!1)),max:Math.max.apply(Math,ee([],J(r),!1))})}})),t}({queryParams:e}),l=function(e){var n=e.queryParams,t=e.paramsToExclude;return Object.values(ha).reduce((function(e,a){var r=n.getAll(a);if(r.length&&""!==r[0]){var l=r.map((function(e){return(t.includes(a)?[e]:e.split(",")).map((function(e){return{id:a,value:e}}))}));return ee(ee([],J(e),!1),J(l),!1)}return ee([],J(e),!1)}),[]).flat()}({queryParams:e,paramsToExclude:[ha.HOTEL_NAME,ha.POI]});return n?{propertySearchCriteriaInput:{primary:{destination:n,rooms:a,dateRange:t},secondary:{ranges:r,selections:l}}}:null},Na={grow:1,minWidth:"zero",maxWidth:"full_width"},La={EGDSSearchFormLocationField:Na,EGDSSearchFormDatePickerField:Na,EGDSSearchFormTravelersField:Na,EGDSSearchFormButton:{grow:0,minWidth:48},default:Na},Ra=((Aa={})[p.ViewSizes.SMALL]=Z(Z({},La),{EGDSSearchFormLocationField:Z(Z({},Na),{minWidth:"full_width"}),EGDSSearchFormDatePickerField:{minWidth:"full_width"},EGDSSearchFormTravelersField:{minWidth:"full_width"},EGDSSearchFormButton:{grow:1}}),Aa[p.ViewSizes.MEDIUM]=Z(Z({},La),{EGDSSearchFormLocationField:Z(Z({},Na),{minWidth:"third_width",maxWidth:"seventy_two"})}),Aa[p.ViewSizes.LARGE]=Z(Z({},La),{EGDSSearchFormLocationField:{grow:1,minWidth:"third_width",maxWidth:"third_width"}}),Aa[p.ViewSizes.EXTRA_LARGE]=La,Aa),Ga=[On,Sn,qt,Me],xa=(0,r.Ps)(Ca||(Ca=ne(["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"],["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),Le.fragment,On.fragment,Sn.fragment,qt.fragment,Me.fragment,Zt.fragment),Oa=function(e){var n=e.viewSize,t=e.fields,r=e.errorState,l=e.defaultValidationProps,i=e.essLogger,o=e.autoOpenCalendar;return a.createElement(h.v,{alignContent:"end",alignItems:"start",justifyContent:"start",wrap:"wrap",space:"three"},t.map((function(e,t){var c=e.__typename,d=Ga.find((function(e){return e.displayName===c}));if(!d)return null;var s=function(e,n){var t,a=Ra[n];return null!==(t=a[e])&&void 0!==t?t:a.default}(c,n),u=r.fieldsWithErrors.find((function(e){return e.__typename===c})),m=Z(Z({},l),{fieldError:u,essLogger:i,autoOpen:o});return a.createElement(h.t,Z({key:"field_"+c+"_"+t},s),a.createElement("div",null,a.createElement(d,Z({data:e},m))))})))},Ma=function(e){var n,t,r,l=e.data,i=e.onFieldChange,o=e.onSubmit,c=e.essLogger,u=e.autoOpenCalendar,m=e.autoOpenPlayback,g=e.sticky,S=(0,s.useLocalization)().formatDateString,E=J(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),v=E[0],f=E[1],y={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},_=a.useRef(null),T=J(a.useState(Z({},y)),2),h=T[0],I=T[1],D=l.egdsElementId,A=l.elements,C=l.search,k=l.actionURL,b=l.errorSummary,N=l.playback,L=J(a.useState(N),2),R=L[0],G=L[1],x=null!=D?D:"search-lodging-form",O=C?ee(ee([],J(A),!1),[C],!1):A,M={setFieldRefByTypename:function(e,n){f((function(t){var a;return Z(Z({},t),((a={})[e]=n,a))}))}},P=A.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),B="EGDSSearchFormDatePickerField"===(null==P?void 0:P.__typename)&&"EGDSOpenDatePickerAction"===(null===(n=P.action)||void 0===n?void 0:n.__typename)&&"EGDSDateRangePicker"===P.action.datePicker.__typename&&null!==(t=P.action.datePicker.maxNumberOfDaysSelected)&&void 0!==t?t:0,U=function(e){var n=J(e.split(" - "),2),t=n[0],a=n[1];return S(new Date(t),{skeleton:"MMMd"})+" - "+S(new Date(a),{skeleton:"MMMd"})},w=h.displayErrorSummary,z=h.errorCount,H=h.errorLinkReference,V=b&&w,W={fields:O,errorState:h,defaultValidationProps:M,essLogger:c,autoOpenCalendar:u};return a.createElement(F.$I,{ref:_,id:x,name:x,method:"GET",action:k,onFieldChange:function(e,n){var t;i&&i(e,n),null===(t=_.current)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})),G((function(n){if(!n)return null;var t=Fa.DESTINATION,a=Fa.TRAVELER_SELECTOR,r=Fa.TRAVEL_DATES,l=n.primary,i=n.secondaries,o=e.value,c=e.name===t?Z(Z({},l),{text:o}):l,d=J(i,2),s=d[0],u=d[1],m=e.name===r&&"EGDSPlainText"===s.__typename?Z(Z({},s),{text:U(o)}):s,p=e.name===a?Z(Z({},u),{text:o}):u;return Z(Z({},n),{primary:c,secondaries:[m,p]})}))},onSubmit:function(e){var n;I(Z({},y));var t=Array.from(e.currentTarget.elements),a={location:{destination:t.find(ia("destination_form_field"))},dates:{startDateInput:t.find(ia("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:t.find(ia("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:B}}},r=la(a),l=r.length;if(!(0===l))return I({fieldsWithErrors:r,errorCount:l,displayErrorSummary:!0,errorLinkReference:v[null===(n=r[0])||void 0===n?void 0:n.__typename]}),void e.preventDefault();var i=function(e,n){var t=["EGDS","SearchForm"],a=n.filter((function(e){var n=e.name;return t.find((function(e){return n.startsWith(e)}))}));return Da[e](a)}(_a.LODGING,t),c=ba(new URLSearchParams(i))||void 0;o&&o(e,c)},hasRequiredFieldIndicator:!0},V&&a.createElement(Le,{data:b,errorCount:z,inputErrorRef:H,linkClickFocusId:null===(r=null==H?void 0:H.current)||void 0===r?void 0:r.id}),a.createElement(d.l,{margin:{blockstart:V?"two":void 0}},a.createElement("div",null,a.createElement(p.Viewport,null,a.createElement(p.ViewSmall,null,R?a.createElement(Zt,{data:R,autoOpenPlayback:m},a.createElement(Oa,Z({},W,{viewSize:p.ViewSizes.SMALL}))):a.createElement(Oa,Z({},W,{viewSize:p.ViewSizes.SMALL}))),a.createElement(p.ViewMedium,null,a.createElement(Oa,Z({},W,{viewSize:p.ViewSizes.MEDIUM}))),a.createElement(p.ViewLarge,null,g?a.createElement(ea,null,a.createElement(Oa,Z({},W,{viewSize:p.ViewSizes.LARGE}))):a.createElement(Oa,Z({},W,{viewSize:p.ViewSizes.LARGE})))))))};Ma.fragment=xa,Ma.displayName="LodgingSearchForm";var Pa,Ba={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new o.nS(o.nl.INFO,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},Ua=(0,r.Ps)(Pa||(Pa=ne(["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"],["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"])),Ma.fragment),wa={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},za=function(e){var n=e.inputs,t=e.skipSsr,r=e.onFieldChange,c=e.onSubmit,d=e.includePlayback,s=e.essLogger,u=e.autoOpenCalendar,m=e.autoOpenPlayback,p=e.sticky,g=e.skipQuery,S=void 0!==g&&g,E=(0,i.v)().context,v=(0,o.Iw)(Ba),f=J(a.useState(S),2),y=f[0],_=f[1],F=Z(Z({},n),{context:E,includePlayback:!!d}),T=(0,l.a)(Ua,{variables:F,ssr:!t,skip:y}),h=T.data,I=T.error,D=T.loading,A=T.previousData;a.useEffect((function(){_(S&&!D)}),[D,S]);var C=null!=h?h:A;if(D&&!C)return a.createElement(ye,Z({},wa));if(I||!C){var k={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:_e,elements:[Fe,De,Ae],search:Ce,playback:null};if("LodgingSearchForm"===k.__typename)return v.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null==I?void 0:I.name,error:new Error(null==I?void 0:I.message)}),a.createElement(Ma,{data:k,onFieldChange:r,onSubmit:c,autoOpenCalendar:u,autoOpenPlayback:m,sticky:p})}return C&&"LodgingSearchForm"===C.searchForm.lodging.__typename?a.createElement(Ma,{data:C.searchForm.lodging,essLogger:s,onFieldChange:r,onSubmit:c,autoOpenCalendar:u,autoOpenPlayback:m,sticky:p}):null};za.displayName="LodgingSearchForm";var Ha,Va,Wa,Ya=(0,r.Ps)(Ha||(Ha=ne(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"],["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"]))),$a=(0,r.Ps)(Wa||(Wa=ne(["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"],["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"]))),Xa=((Va={})[He.EXTRA_SMALL]=f.eZ.EXTRA_SMALL,Va[He.SMALL]=f.eZ.SMALL,Va[He.MEDIUM]=f.eZ.MEDIUM,Va[He.MEDIUM_LARGE]=f.eZ.MEDIUM,Va[He.LARGE]=f.eZ.LARGE,Va[He.XLARGE]=f.eZ.XLARGE,Va),Ka=function(e){var n=e.data,t=n.id,r=n.title,l=n.description,i=n.size,o=Xa[null!=i?i:"LARGE"];return a.createElement(f.fR,{id:t,name:t,title:null!=r?r:l,description:l,size:o})};Ka.displayName="Icon",Ka.fragment=$a;var qa,Qa=(0,r.Ps)(qa||(qa=ne(["\n  fragment UIPrimaryFloatingActionButtonFragment on UIPrimaryFloatingActionButton {\n    primary\n    badge\n    accessibility\n    action {\n      accessibility\n    }\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      ...IconFragment\n    }\n    egdsElementId\n  }\n\n  ","\n  ","\n"],["\n  fragment UIPrimaryFloatingActionButtonFragment on UIPrimaryFloatingActionButton {\n    primary\n    badge\n    accessibility\n    action {\n      accessibility\n    }\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      ...IconFragment\n    }\n    egdsElementId\n  }\n\n  ","\n  ","\n"])),Ya,Ka.fragment),ja=function(e){var n=e.data,t=e.onClick,r=e.isFullWidth,l=e.size,i=n.primary,o=n.icon,c=n.badge,d=n.analytics,s=n.egdsElementId,m=(0,u.useClickTracker)(),p=a.useCallback((function(){if(d){var e=d.referrerId,n=d.linkName;m(e,n)}t()}),[d,t,m]);return a.createElement(g.Y,{isFullWidth:r,onClick:p,size:l,"data-test-id":null!=s?s:""},c&&a.createElement($.W,{text:c.toString()}),i,o&&a.createElement(Ka,{data:o}))};ja.displayName="UIPrimaryFloatingActionButton",ja.fragment=Qa;var Za,Ja=(0,r.Ps)(Za||(Za=ne(["\n  fragment UISecondaryFloatingActionButtonFragment on UISecondaryFloatingActionButton {\n    primary\n    badge\n    accessibility\n    action {\n      accessibility\n    }\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      ...IconFragment\n    }\n    egdsElementId\n  }\n\n  ","\n  ","\n"],["\n  fragment UISecondaryFloatingActionButtonFragment on UISecondaryFloatingActionButton {\n    primary\n    badge\n    accessibility\n    action {\n      accessibility\n    }\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      ...IconFragment\n    }\n    egdsElementId\n  }\n\n  ","\n  ","\n"])),Ya,Ka.fragment),er=function(e){var n=e.data,t=e.onClick,r=e.isFullWidth,l=e.size,i=n.primary,o=n.icon,c=n.badge,d=n.analytics,s=n.egdsElementId,m=(0,u.useClickTracker)(),p=a.useCallback((function(){if(d){var e=d.referrerId,n=d.linkName;m(e,n)}t()}),[d,t,m]);return a.createElement(v.p,{isFullWidth:r,onClick:p,size:l,"data-test-id":null!=s?s:""},a.createElement(h.v,{space:"two"},!!c&&a.createElement(h.t,null,a.createElement($.W,{text:c.toString()})),o&&!c&&a.createElement(h.t,null,a.createElement(Ka,{data:o})),a.createElement(h.t,null,a.createElement("div",null,i))))};er.displayName="UISecondaryFloatingActionButton",er.fragment=Ja;var nr,tr=(0,r.Ps)(nr||(nr=ne(["\n  fragment UIFloatingActionButtonFragment on UIFloatingActionButton {\n    __typename\n    accessibility\n\n    ... on UIPrimaryFloatingActionButton {\n      ...UIPrimaryFloatingActionButtonFragment\n    }\n\n    ... on UISecondaryFloatingActionButton {\n      ...UISecondaryFloatingActionButtonFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment UIFloatingActionButtonFragment on UIFloatingActionButton {\n    __typename\n    accessibility\n\n    ... on UIPrimaryFloatingActionButton {\n      ...UIPrimaryFloatingActionButtonFragment\n    }\n\n    ... on UISecondaryFloatingActionButton {\n      ...UISecondaryFloatingActionButtonFragment\n    }\n  }\n\n  ","\n  ","\n"])),ja.fragment,er.fragment),ar={UIPrimaryFloatingActionButton:ja,UISecondaryFloatingActionButton:er},rr=function(e){var n=e.onClick,t=e.isFullWidth,r=void 0!==t&&t,l=e.size,i=void 0===l?S.xY.MEDIUM:l,o=e.data,c=o.__typename,d=ar[c];return d?a.createElement(d,{onClick:n,isFullWidth:r,size:i,data:o}):null};rr.displayName="UIFloatingActionButton",rr.fragment=tr;var lr,ir=(0,r.Ps)(lr||(lr=ne(["\n  fragment DropdownFieldFragment on ShoppingDropdownField {\n    __typename\n    primary\n    secondary\n    dropdownOptions: options {\n      accessibility\n      id\n      primary\n      value\n      defaultOption: default\n      selected\n      selectAnalytics {\n        linkName\n        referrerId\n      }\n      deselectAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"],["\n  fragment DropdownFieldFragment on ShoppingDropdownField {\n    __typename\n    primary\n    secondary\n    dropdownOptions: options {\n      accessibility\n      id\n      primary\n      value\n      defaultOption: default\n      selected\n      selectAnalytics {\n        linkName\n        referrerId\n      }\n      deselectAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]))),or=function(e){var n,t,r,l=e.data,i=e.onSelectedField,o=e.onKeyPress,c=e.onClick,d=e.resetFilters,s=l.primary,m=l.secondary,p=l.dropdownOptions,g=null!==(n=null!=s?s:m)&&void 0!==n?n:"",S=null!==(t=p[0])&&void 0!==t?t:{},E=S.id,v=S.value,f=Array.isArray(l.dropdownOptions)?null===(r=l.dropdownOptions.find((function(e){return e.selected})))||void 0===r?void 0:r.value:v,y=J(a.useState(f),2),_=y[0],T=y[1],h=(0,u.useClickTracker)(),I=(0,F.i7)(E,(function(e){var n=p.find((function(n){return n.value===e.currentTarget.value})),t=p.find((function(e){return e.value===_}));if(null==t?void 0:t.deselectAnalytics){var a=t.deselectAnalytics,r=a.referrerId,l=a.linkName;h(r,l)}if(null==n?void 0:n.selectAnalytics){var o=n.selectAnalytics;r=o.referrerId,l=o.linkName;h(r,l)}return T(e.currentTarget.value),null==i||i(),e}));return a.useEffect((function(){T(f)}),[f]),a.useEffect((function(){d&&T(v)}),[d]),a.createElement(C.e,{id:"sort-filter-dropdown-"+E,value:_,defaultValue:_,name:E,label:g,emptyState:!1,onChange:I,onKeyPress:function(){null==o||o()},onClick:function(){null==c||c({name:E})}},p.map((function(e,n){var t=e.primary,r=e.selected,l=e.value;return a.createElement("option",{key:n,value:l,"aria-selected":r,"data-opt-id":l},t)})))};or.displayName="DropdownField",(or.fragment=ir).__typename="ShoppingDropdownField";var cr,dr=(0,r.Ps)(cr||(cr=ne(["\n  fragment MultiSelectionStackedTileFieldOptionFragment on ShoppingSelectableFilterOption {\n    __typename\n    fieldId: id\n    primary\n    selected\n    value\n    accessibility\n    disabled\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"],["\n  fragment MultiSelectionStackedTileFieldOptionFragment on ShoppingSelectableFilterOption {\n    __typename\n    fieldId: id\n    primary\n    selected\n    value\n    accessibility\n    disabled\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"])),Ka.fragment),sr=function(e){var n=e.data,t=e.onSelectedField,r=e.resetFilters,l=n.fieldId,i=n.primary,o=n.selected,c=n.value,d=n.icon,s=n.accessibility,m=n.disabled,p=n.__typename,g=J((0,a.useState)(o),2),S=g[0],E=g[1],v=(0,u.useClickTracker)(),y=(0,F.i7)(l,(function(e){if(n.selectAnalytics&&!S){var a=n.selectAnalytics,r=a.referrerId,l=a.linkName;v(r,l)}if(n.deselectAnalytics&&S){var i=n.deselectAnalytics;r=i.referrerId,l=i.linkName;v(r,l)}return E(e.currentTarget.checked),null==t||t(),e}));return a.useEffect((function(){r&&E(!1)}),[r]),a.createElement(X.AA,Z({key:l+"-"+c,name:l,id:p+"-"+l+"-"+c,value:c,checked:S,disabled:m},d?{icon:null==d?void 0:d.id}:{},{labelText:i,altText:s||"",iconSize:f.eZ.EXTRA_SMALL,onChange:y}))};sr.displayName="MultiSelectionStackedTileFieldOption",sr.fragment=dr;var ur,mr=(0,r.Ps)(ur||(ur=ne(["\n  fragment MultiSelectionStackedTileFieldFragment on ShoppingMultiSelectionStackedTileField {\n    __typename\n    multiOptions: options {\n      ...MultiSelectionStackedTileFieldOptionFragment\n    }\n    primary\n    secondary\n  }\n  ","\n"],["\n  fragment MultiSelectionStackedTileFieldFragment on ShoppingMultiSelectionStackedTileField {\n    __typename\n    multiOptions: options {\n      ...MultiSelectionStackedTileFieldOptionFragment\n    }\n    primary\n    secondary\n  }\n  ","\n"])),sr.fragment),pr=function(e){var n=e.data,t=e.onSelectedField,r=e.resetFilters,l=n.multiOptions,i=n.primary,o=n.secondary;return a.createElement("div",null,i&&a.createElement(d.l,{margin:{blockend:"two"}},a.createElement(L.y,{tag:"h4",size:7},i)),o&&a.createElement(G.a,null,o),l&&a.createElement(d.l,{padding:{blockstart:"one"}},a.createElement(X.EQ,{wrapButtons:!0},null==l?void 0:l.map((function(e,n){return a.createElement(sr,{resetFilters:r,data:e,key:n+"-"+e.selected,onSelectedField:t})})))))};pr.displayName="MultiSelectionStackedTileField",(pr.fragment=mr).__typename="ShoppingMultiSelectionStackedTileField";var gr,Sr=(0,r.Ps)(gr||(gr=ne(["\n  fragment MultiSelectionTileFieldOptionFragment on ShoppingSelectableFilterOption {\n    __typename\n    fieldId: id\n    primary\n    secondary\n    selected\n    value\n    accessibility\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    disabled\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"],["\n  fragment MultiSelectionTileFieldOptionFragment on ShoppingSelectableFilterOption {\n    __typename\n    fieldId: id\n    primary\n    secondary\n    selected\n    value\n    accessibility\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    disabled\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"])),Ka.fragment),Er=function(e){var n=e.data,t=e.onSelectedField,r=e.resetFilters,l=n.fieldId,i=n.primary,o=n.secondary,c=n.selected,d=n.value,s=n.icon,m=n.accessibility,p=n.disabled,g=n.__typename,S=J((0,a.useState)(c),2),E=S[0],v=S[1],y=(0,u.useClickTracker)(),_=(0,F.i7)(l,(function(e){if(n.selectAnalytics&&!E){var a=n.selectAnalytics,r=a.referrerId,l=a.linkName;y(r,l)}if(n.deselectAnalytics&&E){var i=n.deselectAnalytics;r=i.referrerId,l=i.linkName;y(r,l)}return v(e.currentTarget.checked),null==t||t(),e}));return a.useEffect((function(){r&&v(!1)}),[r]),a.createElement(X.AA,Z({key:l+"-"+d,name:l,id:g+"-"+l+"-"+d,value:d,checked:E,disabled:p},s?{icon:null==s?void 0:s.id}:{},{labelText:i,subLabelText:o||"",altText:m||"",iconSize:f.eZ.EXTRA_SMALL,onChange:_,stacked:!0}))};Er.displayName="MultiSelectionTileFieldOption",Er.fragment=Sr;var vr,fr,yr,_r,Fr=(0,r.Ps)(vr||(vr=ne(["\n  fragment MultiSelectionTileFieldFragment on ShoppingMultiSelectionTileField {\n    __typename\n    multiOptions: options {\n      ...MultiSelectionTileFieldOptionFragment\n    }\n    primary\n    secondary\n  }\n  ","\n"],["\n  fragment MultiSelectionTileFieldFragment on ShoppingMultiSelectionTileField {\n    __typename\n    multiOptions: options {\n      ...MultiSelectionTileFieldOptionFragment\n    }\n    primary\n    secondary\n  }\n  ","\n"])),Er.fragment),Tr=function(e){var n=e.data,t=e.onSelectedField,r=e.resetFilters,l=n.multiOptions,i=n.primary,o=n.secondary;return a.createElement("div",null,i&&a.createElement(L.y,{tag:"h4",size:7},i),o&&a.createElement(G.a,null,o),l&&a.createElement(d.l,{margin:{blockstart:"two"}},a.createElement(X.EQ,{wrapButtons:!0},null==l?void 0:l.map((function(e,n){return a.createElement(Er,{data:e,key:n+"-"+e.selected,onSelectedField:t,resetFilters:r})})))))};Tr.displayName="MultiSelectionTileField",(Tr.fragment=Fr).__typename="ShoppingMultiSelectionTileField",function(e){e.BASIC="SortAndFilterBasicFilterPayload",e.CLEAR="SortAndFilterClearAllFilters",e.CLEAR_BY_ID="SortAndFilterClearFilterById",e.SELECTED_PILL="SortAndFilterSelectedFilterPillPayload"}(fr||(fr={})),function(e){e.PLAIN_TEXT="EGDSPlainText",e.BASIC_LOCALIZED_TEXT="EGDSBasicLocalizedText"}(yr||(yr={})),function(e){e.RANGE_MIN="selected.min",e.RANGE_MAX="selected.max",e.STEP_VALUE="stepInput.value"}(_r||(_r={}));var hr,Ir=function(e,n){if(n.type===fr.CLEAR)return Z(Z({},e),{selectedFilters:[]});if(n.type===fr.CLEAR_BY_ID){var t=e.selectedFilters.filter((function(e){var t=e.filter;return"EGDSBasicRemovablePill"!==(null==t?void 0:t.__typename)||t.id!==n.payload.id}));return Z(Z({},e),{selectedFilters:t})}var a=n.payload;switch(a.__typename){case fr.SELECTED_PILL:var r=a.deselectionSignalId,l=a.filter,i=a.filterNameResolved;if("EGDSBasicRemovablePill"!==l.__typename)return e;var o=l.id,c=(t=e.selectedFilters).some((function(e){var n;return"EGDSBasicRemovablePill"===(null===(n=e.filter)||void 0===n?void 0:n.__typename)&&e.filter.id===o}));if(c){var d=t.map((function(e){var n=e.filter;return"EGDSBasicRemovablePill"!==(null==n?void 0:n.__typename)?e:n.id===o?Z(Z({},e),{filter:Z(Z({},n),{primary:null!=i?i:""})}):e}));return Z(Z({},e),{selectedFilters:d})}var s={__typename:"ShoppingSelectedFilter",filter:Z(Z({},l),{primary:null!=i?i:""}),emitters:[{__typename:"SortAndFilterSignalEmitter",signalId:null!=r?r:"",condition:Ye.UNSELECTED,payload:{__typename:fr.BASIC,filterId:null!=o?o:"",type:We.REMOVE}}]};return Z(Z({},e),{selectedFilters:ee(ee([],J(t),!1),[s],!1)});case fr.BASIC:return a.type===We.REMOVE?Z(Z({},e),{selectedFilters:e.selectedFilters.filter((function(e){var n=e.filter;return"EGDSBasicRemovablePill"!==(null==n?void 0:n.__typename)||n.id!==a.filterId}))}):e;default:return e}},Dr=function(e,n){switch(e.__typename){case yr.PLAIN_TEXT:return e.text;case yr.BASIC_LOCALIZED_TEXT:var t=e.template;return e.models.reduce((function(e,t){var a=t.key,r=function(e,n){var t,a,r;switch(e){case _r.RANGE_MIN:return""+(null===(t=n.rangeOptions)||void 0===t?void 0:t.nextMin);case _r.RANGE_MAX:return""+(null===(a=n.rangeOptions)||void 0===a?void 0:a.nextMax);case _r.STEP_VALUE:return""+(null===(r=n.stepInputOptions)||void 0===r?void 0:r.nextValue);default:return""}}(t.source,n);return e.replace("{"+a+"}",r)}),t);default:return""}},Ar=(0,r.Ps)(hr||(hr=ne(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"],["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]))),Cr=function(e){var n=e.data;return a.createElement(R.b,null,n.text)};Cr.fragment=Ar,Cr.displayName="EGDSParagraph";var kr,br,Nr=(0,r.Ps)(kr||(kr=ne(["\n  fragment SortAndFilterSignalReceiverFragment on SortAndFilterSignalReceiver {\n    signalId\n  }\n"],["\n  fragment SortAndFilterSignalReceiverFragment on SortAndFilterSignalReceiver {\n    signalId\n  }\n"]))),Lr=(0,r.Ps)(br||(br=ne(["\n  fragment SortAndFilterSignalEmitterFragment on SortAndFilterSignalEmitter {\n    signalId\n    condition\n    payload {\n      ...SortAndFilterSignalPayloadFragment\n    }\n  }\n\n  fragment SortAndFilterSignalPayloadFragment on SortAndFilterSignalPayload {\n    ...SortAndFilterBasicFilterPayloadFragment\n    ...SortAndFilterSelectedFilterPillPayloadFragment\n  }\n\n  fragment SortAndFilterBasicFilterPayloadFragment on SortAndFilterBasicFilterPayload {\n    filterId\n    type\n  }\n\n  fragment SortAndFilterSelectedFilterPillPayloadFragment on SortAndFilterSelectedFilterPillPayload {\n    deselectionSignalId\n    filter {\n      ...EGDSBasicRemovablePillPartialFragment\n    }\n    filterName {\n      ...SortAndFilterSignalDataSourceFragment\n    }\n  }\n\n  # TODO: Update to EGDSPill\n  fragment EGDSBasicRemovablePillPartialFragment on EGDSBasicRemovablePill {\n    name\n    accessibility\n    id\n    removeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment SortAndFilterSignalDataSourceFragment on SortAndFilterSignalDataSource {\n    ...EGDSPlainTextFragment\n    ...EGDSBasicLocalizedTextFragment\n  }\n\n  ","\n  ","\n"],["\n  fragment SortAndFilterSignalEmitterFragment on SortAndFilterSignalEmitter {\n    signalId\n    condition\n    payload {\n      ...SortAndFilterSignalPayloadFragment\n    }\n  }\n\n  fragment SortAndFilterSignalPayloadFragment on SortAndFilterSignalPayload {\n    ...SortAndFilterBasicFilterPayloadFragment\n    ...SortAndFilterSelectedFilterPillPayloadFragment\n  }\n\n  fragment SortAndFilterBasicFilterPayloadFragment on SortAndFilterBasicFilterPayload {\n    filterId\n    type\n  }\n\n  fragment SortAndFilterSelectedFilterPillPayloadFragment on SortAndFilterSelectedFilterPillPayload {\n    deselectionSignalId\n    filter {\n      ...EGDSBasicRemovablePillPartialFragment\n    }\n    filterName {\n      ...SortAndFilterSignalDataSourceFragment\n    }\n  }\n\n  # TODO: Update to EGDSPill\n  fragment EGDSBasicRemovablePillPartialFragment on EGDSBasicRemovablePill {\n    name\n    accessibility\n    id\n    removeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment SortAndFilterSignalDataSourceFragment on SortAndFilterSignalDataSource {\n    ...EGDSPlainTextFragment\n    ...EGDSBasicLocalizedTextFragment\n  }\n\n  ","\n  ","\n"])),Cr.fragment,ft),Rr=function(e){var n=function(n){var t=(0,z.useSignalPublisher)().publishSignal,r=(0,a.useCallback)((function(e,n){e.forEach((function(e){var a=e.signalId,r=e.condition,l=function(e,n,t){void 0===t&&(t={});var a=!0;switch(n){case Ye.SELECTED:t.selectionOptions&&(a=t.selectionOptions.prevChecked);break;case Ye.UNSELECTED:a=!1,t.selectionOptions&&(a=!t.selectionOptions.prevChecked);break;case Ye.DEFAULT_TO_NON_DEFAULT:if(t.rangeOptions){var r=t.rangeOptions,l=r.prevMin,i=r.nextMin,o=r.defaultMin,c=r.prevMax,d=r.nextMax,s=r.defaultMax;a=l!==o||c!==s||i===o&&d===s}else if(t.stepInputOptions){var u=t.stepInputOptions;a=(g=u.prevValue)!==(v=u.defaultValue)}break;case Ye.NON_DEFAULT_TO_NON_DEFAULT:if(t.rangeOptions){var m=t.rangeOptions;l=m.prevMin,i=m.nextMin,o=m.defaultMin,c=m.prevMax,d=m.nextMax,s=m.defaultMax,a=l===o&&c===s||i===o&&d===s}else if(t.stepInputOptions){var p=t.stepInputOptions,g=p.prevValue,S=p.nextValue;a=g===(v=p.defaultValue)||S===v}break;case Ye.NON_DEFAULT_TO_DEFAULT:if(t.rangeOptions){var E=t.rangeOptions;i=E.nextMin,o=E.defaultMin,d=E.nextMax,s=E.defaultMax,a=i!==o||d!==s}else if(t.stepInputOptions){var v,f=t.stepInputOptions;a=(S=f.nextValue)!==(v=f.defaultValue)}break;default:a=!0}if(a)return null;if(e.__typename===fr.SELECTED_PILL){var y=Dr(e.filterName,t);return Z(Z({},e),{filterNameResolved:y})}return Z({},e)}(e.payload,r,n);l&&t({type:a,payload:l})}))}),[t]),l=Z(Z({},n),{emitSignal:r});return a.createElement(e,Z({},l))};return n.displayName="withSignals("+e.displayName+")",n.fragment=e.fragment,n},Gr=(0,r.Ps)(Or||(Or=ne(["\n  fragment MultiSelectionOptionFieldFragment on ShoppingSelectableFilterOption {\n    __typename\n    accessibility\n    fieldId: id\n    description\n    primary\n    secondary\n    selected\n    value\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment MultiSelectionOptionFieldFragment on ShoppingSelectableFilterOption {\n    __typename\n    accessibility\n    fieldId: id\n    description\n    primary\n    secondary\n    selected\n    value\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n  ","\n"])),Nr,Lr),xr=function(e){var n,t=e.data,r=e.onSelectedField,l=e.resetFilters,i=e.emitSignal,o=t.fieldId,c=t.primary,s=t.secondary,m=t.selected,p=t.value,g=t.description,S=t.emitters,E=t.receivers,v=J((0,a.useState)(m),2),f=v[0],y=v[1],_=J((0,a.useState)(!1),2),T=_[0],I=_[1],D=(0,F.i7)(o,(function(e){return e})),C=a.useMemo((function(){return Math.random().toString(36).slice(2,5)}),[]),k=(0,u.useClickTracker)(),b=null!==(n=null==E?void 0:E.map((function(e){return{query:{type:e.signalId},callback:function(e){var n=e.payload;n.__typename===fr.BASIC&&n.type===We.REMOVE&&(y(!1),I(!0))}}})))&&void 0!==n?n:[];(0,z.useSignalSubscriber)(b);var N=(0,F.i7)(o,(function(e){if(t.selectAnalytics&&!f){var n=t.selectAnalytics,a=n.referrerId,l=n.linkName;k(a,l)}if(t.deselectAnalytics&&f){var o=t.deselectAnalytics;a=o.referrerId,l=o.linkName;k(a,l)}return null==i||i(null!=S?S:[],{selectionOptions:{prevChecked:f}}),y(e.currentTarget.checked),null==r||r(),e}));return(0,a.useEffect)((function(){l&&y(!1)}),[l]),(0,a.useEffect)((function(){T&&(qe(p,D),null==r||r(),I(!1))}),[T]),a.createElement(h.v,{alignItems:"center",space:"two"},a.createElement(d.l,{padding:{inlinestart:"one"}},a.createElement(h.t,{grow:1},a.createElement("div",null,a.createElement(A.R,{id:o+"-"+p+"-"+C,name:o,value:p,checked:f,description:null!=g?g:"",onChange:N},c)))),s&&a.createElement(h.t,{shrink:0},a.createElement(R.b,null,s)))};xr.displayName="MultiSelectionOptionField",xr.fragment=Gr;var Or,Mr,Pr=Rr(xr),Br=(0,r.Ps)(Mr||(Mr=ne(["\n  fragment MultiSelectionFieldFragment on ShoppingMultiSelectionField {\n    __typename\n    primary\n    secondary\n    expando {\n      collapseLabel\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      expandLabel\n      minimalHeight\n      threshold\n      visible\n    }\n    options {\n      ...MultiSelectionOptionFieldFragment\n    }\n  }\n\n  ","\n"],["\n  fragment MultiSelectionFieldFragment on ShoppingMultiSelectionField {\n    __typename\n    primary\n    secondary\n    expando {\n      collapseLabel\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      expandLabel\n      minimalHeight\n      threshold\n      visible\n    }\n    options {\n      ...MultiSelectionOptionFieldFragment\n    }\n  }\n\n  ","\n"])),Pr.fragment),Ur=function(e){var n,t,r,l,i,o=e.data,c=e.keepSectionExpanded,s=e.onSelectedField,m=e.resetFilters,p=o.primary,g=o.secondary,S=o.expando,E=o.options,v=null!==(t=null!==(n=null==S?void 0:S.threshold)&&void 0!==n?n:null==S?void 0:S.minimalHeight)&&void 0!==t?t:void 0,f=v?null==E?void 0:E.slice(v):null,y=J(a.useState(!(!c||!(null==f?void 0:f.some((function(e){return e.selected}))))),2),_=y[0],F=y[1],T=(0,u.useClickTracker)(),I=a.useCallback((function(){if(F(!_),(null==S?void 0:S.expandAnalytics)&&!_){var e=S.expandAnalytics,n=e.referrerId,t=e.linkName;T(n,t)}if((null==S?void 0:S.collapseAnalytics)&&_){var a=S.collapseAnalytics;n=a.referrerId,t=a.linkName;T(n,t)}}),[F,_]);if(!(null===(r=o.options)||void 0===r?void 0:r.length))return null;var D=(null==S?void 0:S.threshold)&&(null===(l=o.options)||void 0===l?void 0:l.length)>S.threshold?K.O:a.Fragment,A=(null==S?void 0:S.threshold)&&(null===(i=o.options)||void 0===i?void 0:i.length)>S.threshold?{collapseLabel:S.collapseLabel,expandLabel:S.expandLabel,items:v,isVisible:_,hideScrim:!0,handleClick:I}:{};return a.createElement("fieldset",null,a.createElement("legend",{className:"is-visually-hidden"},p),a.createElement(d.l,{margin:{blockend:"two"}},a.createElement(h.v,{space:"two"},p&&a.createElement(h.t,{grow:1},a.createElement(L.y,{tag:"h4",size:7},p)),g&&a.createElement(h.t,{shrink:0},a.createElement(L.y,{tag:"h4",size:7},g)))),a.createElement(D,Z({},A),null==E?void 0:E.map((function(e,n){return a.createElement(Pr,{key:"option-"+e.fieldId+"-"+n+"-"+e.selected,data:e,resetFilters:m,onSelectedField:s})}))))};Ur.displayName="MultiSelectionField",(Ur.fragment=Br).__typename="ShoppingMultiSelectionField";var wr=(0,r.Ps)(Hr||(Hr=ne(["\n  fragment RangeFieldFragment on ShoppingRangeField {\n    __typename\n    primary\n    range {\n      characteristics {\n        labels {\n          label\n          value\n        }\n        max\n        maxLabel\n        min\n        minLabel\n        step\n      }\n      id\n      selected {\n        id\n        max\n        min\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n      receivers {\n        ...SortAndFilterSignalReceiverFragment\n      }\n      emitters {\n        ...SortAndFilterSignalEmitterFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment RangeFieldFragment on ShoppingRangeField {\n    __typename\n    primary\n    range {\n      characteristics {\n        labels {\n          label\n          value\n        }\n        max\n        maxLabel\n        min\n        minLabel\n        step\n      }\n      id\n      selected {\n        id\n        max\n        min\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n      receivers {\n        ...SortAndFilterSignalReceiverFragment\n      }\n      emitters {\n        ...SortAndFilterSignalEmitterFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),Nr,Lr),zr=function(e){var n,t=e.data,r=e.onRangeSelectionChange,l=e.onSelectedField,i=e.resetFilters,o=e.emitSignal,c=t.primary,s=t.range,m=s||{},p=m.selected,g=m.characteristics,S=m.id,E=void 0===S?"":S,v=m.emitters,f=m.receivers,y=g||{},_=y.min,F=void 0===_?0:_,T=y.max,h=void 0===T?0:T,I=y.step,D=p||{},A=D.min,C=D.max,k=J((0,a.useState)(A),2),b=k[0],N=k[1],R=J((0,a.useState)(C),2),G=R[0],x=R[1],O=J((0,a.useState)(!1),2),M=O[0],P=O[1],B=(0,u.useClickTracker)(),U=null!==(n=null==f?void 0:f.map((function(e){return{query:{type:e.signalId},callback:function(e){var n=e.payload;n.__typename===fr.BASIC&&n.type===We.REMOVE&&(N(F),x(h),P(!0))}}})))&&void 0!==n?n:[];(0,z.useSignalSubscriber)(U);var w=function(e){var n,t,a=null===(n=null==g?void 0:g.labels)||void 0===n?void 0:n.find((function(n){return n.value===e}));return null!==(t=null==a?void 0:a.label)&&void 0!==t?t:""};return(0,a.useEffect)((function(){i&&(N(F),x(h))}),[i]),(0,a.useEffect)((function(){A===F&&N(F),C===h&&x(h)}),[A,C]),(0,a.useEffect)((function(){M&&(null==r||r({id:E,min:-1,max:-1}),null==l||l(),P(!1))}),[M]),s?a.createElement(d.l,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(L.y,{tag:"h4",size:7},c),a.createElement(d.l,{margin:{blockstart:"four"}},a.createElement("div",null,a.createElement(Q.G,{id:E,key:E+"-"+A+"-"+C,name:E,type:"dual",min:F,max:h,step:I,handleChange:function(e,n){var t={prevMin:w(b),nextMin:w(e),defaultMin:w(F),prevMax:w(G),nextMax:w(n),defaultMax:w(h)};null==o||o(null!=v?v:[],{rangeOptions:t}),N(e),x(n)},handleAfterChange:function(e,n){var t=F===e&&h===n;null==l||l(),t?null==r||r({id:E,min:-1,max:-1}):null==r||r({id:E,min:e,max:n}),(null==s?void 0:s.analytics)&&B(""+s.analytics.referrerId+!t+"."+e+","+n,s.analytics.linkName)},lowerValue:b,upperValue:G,formatValueForDisplay:w,formatSecondaryValueForDisplay:w,gap:0}))))):null};zr.displayName="RangeField",(zr.fragment=wr).__typename="ShoppingRangeField";var Hr,Vr,Wr=Rr(zr),Yr=(0,r.Ps)(Vr||(Vr=ne(["\n  fragment SelectionOptionFieldFragment on ShoppingSelectableFilterOption {\n    __typename\n    accessibility\n    fieldId: id\n    primary\n    selected\n    value\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    disabled\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n"],["\n  fragment SelectionOptionFieldFragment on ShoppingSelectableFilterOption {\n    __typename\n    accessibility\n    fieldId: id\n    primary\n    selected\n    value\n    selectAnalytics {\n      linkName\n      referrerId\n    }\n    deselectAnalytics {\n      linkName\n      referrerId\n    }\n    disabled\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n"]))),$r=function(e){var n=e.data,t=n.fieldId,r=n.primary,l=n.disabled,i=n.value,o=a.useMemo((function(){return Math.random().toString(36).slice(2,5)}),[]);return a.createElement(q.n,{name:t,disabled:l,id:t+"-"+i+"-"+o,value:i},r)};$r.displayName="SelectionOptionField",$r.fragment=Yr;var Xr,Kr=(0,r.Ps)(Xr||(Xr=ne(["\n  fragment SelectionFieldFragment on ShoppingSelectionField {\n    __typename\n    primary\n    expando {\n      collapseLabel\n      expandLabel\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      minimalHeight\n      threshold\n      visible\n    }\n    options {\n      ...SelectionOptionFieldFragment\n    }\n  }\n\n  ","\n"],["\n  fragment SelectionFieldFragment on ShoppingSelectionField {\n    __typename\n    primary\n    expando {\n      collapseLabel\n      expandLabel\n      collapseAnalytics {\n        linkName\n        referrerId\n      }\n      expandAnalytics {\n        linkName\n        referrerId\n      }\n      minimalHeight\n      threshold\n      visible\n    }\n    options {\n      ...SelectionOptionFieldFragment\n    }\n  }\n\n  ","\n"])),$r.fragment),qr=function(e){var n,t,r,l=e.data,i=e.keepSectionExpanded,o=e.onSelectedField,c=e.resetFilters,s=l.primary,m=l.expando,p=l.options,g=null!==(t=null!==(n=null==m?void 0:m.threshold)&&void 0!==n?n:null==m?void 0:m.minimalHeight)&&void 0!==t?t:void 0,S=g?null==p?void 0:p.slice(g):null,E=Array.isArray(p)?null===(r=p.find((function(e){return e.selected})))||void 0===r?void 0:r.value:"",v=J(a.useState(E),2),f=v[0],y=v[1],_=J(a.useState(!(!i||!(null==S?void 0:S.some((function(e){return e.selected}))))),2),T=_[0],h=_[1],I=(0,u.useClickTracker)(),D=p?p[0].fieldId:"",A=(0,F.i7)(D,(function(e){var n,t,a=null===(n=l.options)||void 0===n?void 0:n.find((function(e){return e.value===f})),r=null===(t=l.options)||void 0===t?void 0:t.find((function(n){return n.value===e.currentTarget.value}));if(null==a?void 0:a.deselectAnalytics){var i=a.deselectAnalytics,c=i.referrerId,d=i.linkName;I(c,d)}if(null==r?void 0:r.selectAnalytics){var s=r.selectAnalytics;c=s.referrerId,d=s.linkName;I(c,d)}return y(e.currentTarget.value),null==o||o(),e})),C=a.useCallback((function(){if(h(!T),(null==m?void 0:m.expandAnalytics)&&!T){var e=m.expandAnalytics,n=e.referrerId,t=e.linkName;I(n,t)}if((null==m?void 0:m.collapseAnalytics)&&T){var a=m.collapseAnalytics;n=a.referrerId,t=a.linkName;I(n,t)}}),[h,T]);if(a.useEffect((function(){y(E)}),[E]),a.useEffect((function(){c&&y("")}),[c]),!Array.isArray(p))return null;var k=(null==m?void 0:m.threshold)&&(null==p?void 0:p.length)>m.threshold?K.O:a.Fragment,b=(null==m?void 0:m.threshold)&&(null==p?void 0:p.length)>m.threshold?{collapseLabel:m.collapseLabel,expandLabel:m.expandLabel,items:g,isVisible:T,hideScrim:!0,handleClick:C}:{};return a.createElement("fieldset",null,s&&a.createElement(d.l,{margin:{blockend:"two"}},a.createElement(L.y,{tag:"h4",size:7},s)),p&&a.createElement(q.s,{key:f,group:p[0].fieldId,selected:f,onChange:A,defaultChecked:!0},a.createElement(k,Z({},b),p.map((function(e,n){return a.createElement($r,{key:"option-"+e.fieldId+"-"+n,data:e})})))))};qr.displayName="SelectionField",(qr.fragment=Kr).__typename="ShoppingSelectionField";var Qr=(0,r.Ps)(Zr||(Zr=ne(["\n  fragment StepInputFieldFragment on ShoppingStepInputField {\n    __typename\n    primary\n    stepInputId: id\n    stepInput {\n      decreaseText\n      increaseText\n      label\n      max\n      min\n      step\n      subLabel\n      value\n      key\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment StepInputFieldFragment on ShoppingStepInputField {\n    __typename\n    primary\n    stepInputId: id\n    stepInput {\n      decreaseText\n      increaseText\n      label\n      max\n      min\n      step\n      subLabel\n      value\n      key\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n  ","\n"])),Nr,Lr),jr=function(e){var n,t=e.data,r=e.onSelectedField,l=e.resetFilters,i=e.onStepInputChange,o=e.emitSignal,c=t.primary,d=t.stepInput,s=t.stepInputId,m=t.emitters,p=t.receivers,g=d.decreaseText,S=d.increaseText,E=d.max,v=d.min,f=d.label,y=d.step,_=d.subLabel,F=d.value,T=d.increaseAnalytics,h=d.decreaseAnalytics,I=N.Q.defaultProps,D=I.min,A=null!=v?v:void 0===D?0:D,C=J((0,a.useState)(F),2),k=C[0],b=C[1],R=J((0,a.useState)(!1),2),G=R[0],x=R[1],O=(0,u.useClickTracker)();(0,a.useEffect)((function(){l&&b(A)}),[l]),(0,a.useEffect)((function(){G&&(null==i||i(null!=s?s:"",k),null==r||r(),x(!1))}),[G]);var M=null!==(n=null==p?void 0:p.map((function(e){return{query:{type:e.signalId},callback:function(e){var n=e.payload;n.__typename===fr.BASIC&&n.type===We.REMOVE&&(b(A),x(!0))}}})))&&void 0!==n?n:[];(0,z.useSignalSubscriber)(M);return a.createElement(a.Fragment,null,a.createElement(L.y,{tag:"h4",size:7},c),a.createElement(N.Q,{decrementText:null!=g?g:"",incrementText:null!=S?S:"",max:null!=E?E:I.max,min:A,label:f,onChange:function(e){var n=Number(e.target.value);if(T&&n>k){var t=T.linkName,a=T.referrerId;O(a+"."+(n!==F),t)}if(h&&n<k){t=h.linkName,a=h.referrerId;O(a+"."+(n!==F),t)}null==o||o(null!=m?m:[],{stepInputOptions:{prevValue:k,nextValue:n,defaultValue:A}}),b(n),null==i||i(null!=s?s:"",n),null==r||r()},value:k,step:y||I.step,description:null!=_?_:""}))};jr.displayName="StepInputField",(jr.fragment=Qr).__typename="ShoppingStepInputField";var Zr,Jr=Rr(jr),el=(0,r.Ps)(rl||(rl=ne(["\n  fragment RangeFieldFragment_mutex on ShoppingRangeField {\n    __typename\n    primary\n    range {\n      characteristics {\n        labels {\n          label\n          value\n        }\n        max\n        maxLabel\n        min\n        minLabel\n        step\n      }\n      id\n      selected {\n        id\n        max\n        min\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n      receivers {\n        ...SortAndFilterSignalReceiverFragment\n      }\n      emitters {\n        ...SortAndFilterSignalEmitterFragment\n      }\n    }\n  }\n  ","\n  ","\n"],["\n  fragment RangeFieldFragment_mutex on ShoppingRangeField {\n    __typename\n    primary\n    range {\n      characteristics {\n        labels {\n          label\n          value\n        }\n        max\n        maxLabel\n        min\n        minLabel\n        step\n      }\n      id\n      selected {\n        id\n        max\n        min\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n      receivers {\n        ...SortAndFilterSignalReceiverFragment\n      }\n      emitters {\n        ...SortAndFilterSignalEmitterFragment\n      }\n    }\n  }\n  ","\n  ","\n"])),Nr,Lr),nl=(0,r.Ps)(ll||(ll=ne(["\n  fragment MutexFieldFragment on ShoppingMutexField {\n    __typename\n    mutexId: id\n    primary\n    secondary\n    options {\n      __typename\n      mutexOption: option {\n        ...MultiSelectionFieldFragment\n        ...RangeFieldFragment_mutex\n        ...MultiSelectionStackedTileFieldFragment\n        ...MultiSelectionTileFieldFragment\n        ...StepInputFieldFragment\n      }\n      mutexValue: value {\n        ...SelectionOptionFieldFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"],["\n  fragment MutexFieldFragment on ShoppingMutexField {\n    __typename\n    mutexId: id\n    primary\n    secondary\n    options {\n      __typename\n      mutexOption: option {\n        ...MultiSelectionFieldFragment\n        ...RangeFieldFragment_mutex\n        ...MultiSelectionStackedTileFieldFragment\n        ...MultiSelectionTileFieldFragment\n        ...StepInputFieldFragment\n      }\n      mutexValue: value {\n        ...SelectionOptionFieldFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),Ur.fragment,el,pr.fragment,Tr.fragment,Jr.fragment,$r.fragment,Nr,Lr),tl=[or,Ur,Wr,qr,pr,Tr,Jr],al=function(e){var n,t=e.data,r=e.onFieldClick,l=e.onRangeSelectionChange,i=e.onStepInputChange,o=e.onSelectedField,c=e.resetFilters,s=e.emitSignal,m=t.primary,p=t.options,g=t.mutexId,S=null==p?void 0:p.find((function(e){return e.mutexValue.selected})),E=J(a.useState(S),2),v=E[0],f=E[1],y=g||"",_=null==p?void 0:p.map((function(e){var n;return null!==(n=e.mutexValue.receivers)&&void 0!==n?n:[]})).flat(),T=(0,u.useClickTracker)(),h=null!==(n=null==_?void 0:_.map((function(e){return{query:{type:e.signalId},callback:function(e){var n=e.payload;n.__typename===fr.BASIC&&n.type===We.REMOVE&&f(S)}}})))&&void 0!==n?n:[];(0,z.useSignalSubscriber)(h);var I=(0,F.i7)(y,(function(e){var n,t,a=null==p?void 0:p.find((function(e){return e.mutexValue.value===(null==v?void 0:v.mutexValue.value)})),r=null==p?void 0:p.find((function(n){return n.mutexValue.value===e.currentTarget.value}));if(null==a?void 0:a.mutexValue.deselectAnalytics){var l=a.mutexValue.deselectAnalytics,i=l.referrerId,c=l.linkName;T(i,c)}if(null==r?void 0:r.mutexValue.selectAnalytics){var d=r.mutexValue.selectAnalytics;i=d.referrerId,c=d.linkName;T(i,c)}var u={prevChecked:(null==a?void 0:a.mutexValue.selected)||!0};null==s||s(null!==(n=null==a?void 0:a.mutexValue.emitters)&&void 0!==n?n:[],{selectionOptions:u});return null==s||s(null!==(t=null==r?void 0:r.mutexValue.emitters)&&void 0!==t?t:[],{selectionOptions:{prevChecked:!1}}),f(r),null==o||o(),e}));if(!p)return null;var D=function(e){null==l||l(e),null==o||o()};return a.createElement("fieldset",{"data-testid":y},m&&a.createElement(d.l,{margin:{blockend:"two"}},a.createElement(L.y,{"data-testid":m,tag:"h4",size:7},m)),p&&a.createElement(q.s,{selected:null==v?void 0:v.mutexValue.value,"data-testid":y,onChange:I,group:y,defaultChecked:!0},p.map((function(e,n){return a.createElement($r,{key:"option-"+e.mutexValue.primary+"-"+n,data:e.mutexValue})}))),p.map((function(e,n){var t=e.mutexOption,l=e.mutexValue,d=tl.find((function(e){return e.fragment.__typename===(null==v?void 0:v.mutexOption.__typename)})),s=l.value===(null==v?void 0:v.mutexValue.value);return d&&s?t.__typename===Wr.fragment.__typename?a.createElement(d,{key:"field-section-"+n,data:t,onSelectedField:o,onRangeSelectionChange:D,resetFilters:c}):a.createElement(d,{key:"field-section-"+n,data:t,onClick:r,onSelectedField:o,resetFilters:c,onStepInputChange:i}):null})))};al.displayName="MutexField",(al.fragment=nl).__typename="ShoppingMutexField";var rl,ll,il=Rr(al),ol=(0,r.Ps)(dl||(dl=ne(["\n  fragment ShoppingSelectedFilterFragment on ShoppingSelectedFilter {\n    filter {\n      ... on EGDSBasicRemovablePill {\n        primary\n        name\n        accessibility\n        id\n        removeAnalytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n"],["\n  fragment ShoppingSelectedFilterFragment on ShoppingSelectedFilter {\n    filter {\n      ... on EGDSBasicRemovablePill {\n        primary\n        name\n        accessibility\n        id\n        removeAnalytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    emitters {\n      ...SortAndFilterSignalEmitterFragment\n    }\n  }\n\n  ","\n"])),Lr),cl=function(e){var n=e.data,t=e.onRemoveFilterPill,r=e.emitSignal,l=n.filter,i=n.emitters,o=(0,u.useClickTracker)();if("EGDSBasicRemovablePill"!==(null==l?void 0:l.__typename))return null;var c=l.id,d=l.primary,s=l.name,m=l.accessibility,p=l.removeAnalytics;if(!(c&&d&&s&&m))return null;return a.createElement(V.p,{id:c,name:s,onClick:function(){p&&o(p.referrerId,p.linkName),null==t||t(c),null==r||r(null!=i?i:[])},a11yRemoveText:m},d)};cl.displayName="SelectedFilter",cl.fragment=ol;var dl,sl,ul=Rr(cl),ml=(0,r.Ps)(sl||(sl=ne(["\n  fragment SelectedFiltersFieldFragment on ShoppingSelectedFiltersField {\n    primary\n    secondary\n    shoppingSelectedFilters {\n      ...ShoppingSelectedFilterFragment\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment SelectedFiltersFieldFragment on ShoppingSelectedFiltersField {\n    primary\n    secondary\n    shoppingSelectedFilters {\n      ...ShoppingSelectedFilterFragment\n    }\n    receivers {\n      ...SortAndFilterSignalReceiverFragment\n    }\n  }\n\n  ","\n  ","\n"])),ul.fragment,Nr),pl=function(e){var n,t=e.data,r=e.resetFilters,l=t.primary,i=t.secondary,o=t.shoppingSelectedFilters,c=t.receivers,s=J((0,a.useReducer)(Ir,{selectedFilters:null!=o?o:[]}),2),u=s[0].selectedFilters,m=s[1];(0,a.useEffect)((function(){r&&m({type:fr.CLEAR,payload:{}})}),[r]);var p=null!==(n=null==c?void 0:c.map((function(e){return{query:{type:e.signalId},callback:m}})))&&void 0!==n?n:[];(0,z.useSignalSubscriber)(p);var g=function(e){m({type:fr.CLEAR_BY_ID,payload:{id:e}})};return(null==u?void 0:u.length)?a.createElement(a.Fragment,null,l&&a.createElement(L.y,{tag:"h4",size:7},l),i&&a.createElement(G.a,null,i),a.createElement(d.l,{margin:{blockstart:"two"}},a.createElement(W.m,{wrap:!0},u.map((function(e,n){return a.createElement(ul,{key:"selected-filter-"+n,data:e,onRemoveFilterPill:g})}))))):null};pl.displayName="SelectedFiltersField",(pl.fragment=ml).__typename="ShoppingSelectedFiltersField";var gl,Sl=function(e){var n,t,r=e.onMultiSelectClose,l=e.onMultiSelectItemRemove,o=e.onMultiSelectClearAll,c=e.onSelectionChange,s=e.label,m=e.placeholder,p=e.icon,g=e.multiSelections,S=e.id,E=e.typeaheadInfo,v=e.typeaheadAdapter,f=e.analytics,y=e.essLogger,_=(0,i.v)().context,F=E||{},h=F.client,I=F.isDestination,D=F.lineOfBusiness,A=F.maxNumberOfResults,C=F.regionType,k=F.typeaheadFeatures,b=F.categorize,N=F.allowExactMatch,L=F.dismissButtonText,R=F.listTitle,G=F.typeaheadMultiSelect||{},x=G.isMultiLocation,O=G.showPills,M=G.selectedItemHeading,P=G.clearAllText,B=_.identity,U=_.locale,w=_.siteId,z=Number(null==B?void 0:B.expUserId)||-1,H=(B||{}).duaid,V=null!=v?v:new T.n7({client:null!=h?h:"",domain:"https://www.expedia.com/",dest:null==I||I,expuserid:z,features:null!=k?k:"",guid:H,lob:null!=D?D:"",locale:U,maxResults:A||10,regionType:C||128,siteId:w,essLogger:y}),W=a.useMemo((function(){return g?g.map((function(e){return{term:e.text,data:{value:e.value}}})):[]}),[g]),Y=J(a.useState(W),2),$=Y[0],X=Y[1];a.useEffect((function(){X(W)}),[W]);var K=(0,u.useClickTracker)();return a.createElement(d.l,{padding:{block:"two"}},a.createElement("div",null,a.createElement(T.cy,{stid:S,id:S,name:S,value:$.map((function(e){return e.term})),label:null!==(n=null!=s?s:m)&&void 0!==n?n:"",icon:null!==(t=null==p?void 0:p.id)&&void 0!==t?t:"",typeaheadPlaceholder:null!=m?m:"",adapter:V,onUpdate:function(e){if($.find((function(n){return n===e}))||(X((function(n){return ee(ee([],J(n),!1),[e],!1)})),null==c||c(e,S)),f){var n=f.referrerId,t=f.linkName;K(n,t)}},onItemRemove:x?function(e){$.length>0&&(X($.filter((function(n,t){return t!==e}))),null==l||l($[e],S))}:void 0,handleClear:function(){X([]),null==o||o(S),null==c||c({term:"",data:{}},S)},onDismiss:x?function(e){null==r||r(e,S)}:void 0,isMulti:null!=x&&x,categorize:b,allowExactMatch:N,listTitle:R,selectedItemHeading:null!=M?M:"",clearAllText:null!=P?P:"",dismissButtonText:null!=L?L:"",showPills:O,hasClearButton:!0})))},El=function(e){var n,t,r=e.onSelectionChange,l=e.label,o=e.placeholder,c=e.icon,d=e.selected,s=e.id,m=e.typeaheadInfo,p=e.typeaheadAdapter,g=e.analytics,S=e.essLogger,E=(0,i.v)().context,v=(0,u.useClickTracker)(),f=J(a.useState(d),2),y=f[0],_=f[1];a.useEffect((function(){_(d)}),[d]);var F=m||{},h=F.client,I=F.isDestination,D=F.lineOfBusiness,A=F.maxNumberOfResults,C=F.regionType,k=F.typeaheadFeatures,b=F.categorize,N=F.allowExactMatch,L=F.listTitle,R=E.identity,G=E.locale,x=E.siteId,O=Number(null==R?void 0:R.expUserId)||-1,M=(R||{}).duaid,P=null!=p?p:new T.n7({client:null!=h?h:"",domain:"https://www.expedia.com/",dest:null==I||I,expuserid:O,features:null!=k?k:"",guid:M,lob:null!=D?D:"",locale:G,maxResults:A||10,regionType:C||128,siteId:x,essLogger:S});return a.createElement(T.cy,{id:s,name:s,value:null!=y?y:"",label:null!==(n=null!=l?l:o)&&void 0!==n?n:"",icon:null!==(t=null==c?void 0:c.id)&&void 0!==t?t:"",typeaheadPlaceholder:null!=o?o:"",adapter:P,onUpdate:function(e){if(_(e.term),null==r||r(e,s),g){var n=g.referrerId,t=g.linkName;v(n,t)}},handleClear:function(){_(""),null==r||r({term:"",data:{}},s)},categorize:b,allowExactMatch:N,listTitle:L,hasClearButton:!0})},vl=(0,r.Ps)(gl||(gl=ne(["\n  fragment TextInputFieldFragment on ShoppingTextInputField {\n    __typename\n    id\n    primary\n    secondary\n    label\n    placeholder\n    selected\n    icon {\n      id\n      description\n    }\n    typeaheadInfo {\n      client\n      isDestination\n      lineOfBusiness\n      maxNumberOfResults\n      regionType\n      typeaheadFeatures\n      allowExactMatch\n      listTitle\n      categorize\n      dismissButtonText\n      domain\n      typeaheadMultiSelect {\n        isMultiLocation\n        showPills\n        selectedItemHeading\n        clearAllText\n      }\n    }\n    analytics {\n      referrerId\n      linkName\n    }\n    multiSelections {\n      text\n      value\n    }\n  }\n"],["\n  fragment TextInputFieldFragment on ShoppingTextInputField {\n    __typename\n    id\n    primary\n    secondary\n    label\n    placeholder\n    selected\n    icon {\n      id\n      description\n    }\n    typeaheadInfo {\n      client\n      isDestination\n      lineOfBusiness\n      maxNumberOfResults\n      regionType\n      typeaheadFeatures\n      allowExactMatch\n      listTitle\n      categorize\n      dismissButtonText\n      domain\n      typeaheadMultiSelect {\n        isMultiLocation\n        showPills\n        selectedItemHeading\n        clearAllText\n      }\n    }\n    analytics {\n      referrerId\n      linkName\n    }\n    multiSelections {\n      text\n      value\n    }\n  }\n"]))),fl=function(e){var n,t,r,l=e.data,i=l.primary,o=l.label,c=l.placeholder,d=l.icon,s=l.selected,m=l.id,p=l.typeaheadInfo,g=l.analytics,S=J(a.useState(null!=s?s:""),2),E=S[0],v=S[1],f=(0,u.useClickTracker)();return a.createElement(a.Fragment,null,i&&a.createElement(L.y,{tag:"h4",size:7},i),!p&&a.createElement(b.w,{label:null!=o?o:"",id:m,placeholder:null!=c?c:"",icon:null!==(n=null==d?void 0:d.id)&&void 0!==n?n:"",value:E,onChange:function(e){if(v(e.target.value),g){var n=g.referrerId,t=g.linkName;f(n,t)}}}),p&&!(null===(t=p.typeaheadMultiSelect)||void 0===t?void 0:t.isMultiLocation)&&a.createElement(El,Z({},l,e)),(null===(r=null==p?void 0:p.typeaheadMultiSelect)||void 0===r?void 0:r.isMultiLocation)&&a.createElement(Sl,Z({},l,e)))};fl.displayName="TextInputField",(fl.fragment=vl).__typename="ShoppingTextInputField";var yl,_l=(0,r.Ps)(yl||(yl=ne(["\n  fragment SortAndFilterSectionFragment on ShoppingSortAndFilterSection {\n    __typename\n    id\n    title\n    subTitle\n    fields {\n      ...DropdownFieldFragment\n      ...MultiSelectionFieldFragment\n      ...RangeFieldFragment\n      ...SelectionFieldFragment\n      ...TextInputFieldFragment\n      ...MultiSelectionStackedTileFieldFragment\n      ...MultiSelectionTileFieldFragment\n      ...StepInputFieldFragment\n      ...MutexFieldFragment\n      ...SelectedFiltersFieldFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"],["\n  fragment SortAndFilterSectionFragment on ShoppingSortAndFilterSection {\n    __typename\n    id\n    title\n    subTitle\n    fields {\n      ...DropdownFieldFragment\n      ...MultiSelectionFieldFragment\n      ...RangeFieldFragment\n      ...SelectionFieldFragment\n      ...TextInputFieldFragment\n      ...MultiSelectionStackedTileFieldFragment\n      ...MultiSelectionTileFieldFragment\n      ...StepInputFieldFragment\n      ...MutexFieldFragment\n      ...SelectedFiltersFieldFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),or.fragment,Ur.fragment,Wr.fragment,qr.fragment,fl.fragment,pr.fragment,Tr.fragment,Jr.fragment,il.fragment,pl.fragment),Fl=[or,Ur,Wr,qr,fl,pr,Tr,Jr,il,pl],Tl=function(e){var n=e.data,t=e.keepSectionExpanded,r=e.onFieldClick,l=e.onMultiSelectClose,i=e.onMultiSelectItemRemove,o=e.onMultiSelectClearAll,c=e.onSelectionChange,s=e.typeaheadAdapters,u=e.onRangeSelectionChange,m=e.onStepInputChange,p=e.onSelectedField,g=e.useUnsetMargin,S=e.useUnsetTopBorder,E=e.resetFilters,v=e.essLogger,f=n.fields,y=n.subTitle,_=n.title,F=n.id,T=f.some((function(e){var n=e.__typename;return Fl.find((function(e){return e.fragment.__typename===n}))}));if(!T)return null;var h=f.some((function(e){return"ShoppingTextInputField"===e.__typename})),I={border:h?["blockend","blockstart"]:[],padding:h?{block:"six"}:{},margin:g?{blockstart:"unset"}:{blockstart:"six"}},D={border:h?["blockend"]:[],padding:h?{blockstart:"four",blockend:"six"}:{},margin:h?{blockstart:"unset"}:{blockstart:"six"}},A={margin:h&&1===f.length?{blockstart:"two"}:{blockstart:"six"}},C=S?D:I;return a.createElement(d.l,Z({},C),a.createElement("div",{"data-test-id":F},a.createElement(L.y,{tag:"h3",size:5},_),a.createElement(L.y,{tag:"h4",size:6},y),f.map((function(e,n){var g=(e||{}).__typename,S="ShoppingTextInputField"===e.__typename?null==s?void 0:s.get(e.id):void 0,f=Fl.find((function(e){return e.fragment.__typename===g}));return f?a.createElement(d.l,Z({},A,{key:n}),a.createElement("div",null,g===fl.fragment.__typename&&a.createElement(f,{key:"field-section-"+n,data:e,typeaheadAdapter:S,onMultiSelectClose:l,onMultiSelectItemRemove:i,onMultiSelectClearAll:o,onSelectionChange:c,essLogger:v}),g===Wr.fragment.__typename&&a.createElement(f,{key:"field-section-"+n,data:e,onSelectedField:p,onRangeSelectionChange:u,resetFilters:E}),g!==fl.fragment.__typename&&g!==Wr.fragment.__typename&&a.createElement(f,{key:"field-section-"+n,data:e,onClick:r,onSelectedField:p,keepSectionExpanded:t,resetFilters:E,onStepInputChange:m,onRangeSelectionChange:u}))):null}))))};Tl.displayName="SortAndFilterSection",Tl.fragment=_l;var hl,Il,Dl=(0,r.Ps)(hl||(hl=ne(["\n  fragment SortFilterToolbarFragment on UIToolbar {\n    __typename\n    primary\n    actions {\n      primary {\n        ...EGDSTertiaryButtonFragment\n      }\n      secondaries {\n        ...EGDSTertiaryButtonFragment\n      }\n    }\n  }\n\n  ","\n"],["\n  fragment SortFilterToolbarFragment on UIToolbar {\n    __typename\n    primary\n    actions {\n      primary {\n        ...EGDSTertiaryButtonFragment\n      }\n      secondaries {\n        ...EGDSTertiaryButtonFragment\n      }\n    }\n  }\n\n  ","\n"])),zn.fragment),Al=function(e){var n,t,r=e.data,l=e.onCloseButtonClick,i=e.onClearAllButtonClick,o=r.actions,c=r.primary,d=o.primary,s=o.secondaries,m=(0,u.useClickTracker)(),p=null!==(n=o.primary.egdsElementId)&&void 0!==n?n:"",g=null!==(t=d.accessibility)&&void 0!==t?t:"",S=a.useCallback((function(){if(o.primary.analytics){var e=o.primary.analytics,n=e.referrerId,t=e.linkName;m(n,t)}null==l||l()}),[o.primary.analytics,l,m]);if(!c||!Array.isArray(s)||0===s.length)return null;var E=J(s,1)[0];return a.createElement(M.bW,{toolbarTitle:c,navigationContent:l?{onClick:S,navIconLabel:g,navButtonId:p}:void 0,toolbarActionContent:a.createElement(zn,{data:E,onClick:i})})};Al.displayName="Toolbar",Al.fragment=Dl,function(e){e.CLEAR="clear",e.RESTORE="restore"}(Il||(Il={}));var Cl,kl=(0,r.Ps)(Cl||(Cl=ne(["\n  fragment SearchToolsFilterBarFragment on ShoppingSortAndFilters {\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment SearchToolsFilterBarFragment on ShoppingSortAndFilters {\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),Al.fragment,Tl.fragment,rr.fragment),bl=$e.FILTER_BAR,Nl=function(e){var n,t,r,l=e.data,i=e.onOpenDialog,o=e.onRangeSelectionChange,c=e.onStepInputChange,s=e.onSubmit,m=e.onRemoveAllAppliedFilters,p=e.onClearFilters,g=l.__typename,S=l.containers,E=l.filterSections,v=(null==S?void 0:S.find((function(e){return e.view===bl})))||{},f=v.toolbar,_=v.revealAction,F=v.applyAction,T=J((0,y.useDialog)(g+"-"+bl),3),I=T[0],D=T[1],A=D.openDialog,C=D.closeDialog,k=T[2],b=J(a.useState(f),2),N=b[0],L=b[1],R=J(a.useState(!1),2),G=R[0],O=R[1],M=J(a.useState((null===(n=null==f?void 0:f.actions)||void 0===n?void 0:n.secondaries)&&(null===(t=null==f?void 0:f.actions)||void 0===t?void 0:t.secondaries[0].disabled)),2),P=M[0],B=M[1],U=J(a.useState(!0),2),w=U[0],V=U[1],$=(0,u.useClickTracker)(),X="UISecondaryFloatingActionButton"===(null==_?void 0:_.__typename);a.useEffect((function(){var e;N&&L(Z(Z({},N),{actions:{__typename:"UIToolbarActions",primary:Z({},N.actions.primary),secondaries:(null===(e=N.actions.secondaries)||void 0===e?void 0:e.map((function(e){return Z(Z({},e),{disabled:!P&&G})})))||[]}}))}),[P,G]),a.useEffect((function(){I||w||(null==p||p({name:Il.RESTORE,value:{}}),O(!1)),V(!1)}),[I]);var K=a.useCallback((function(){if(null==i||i(),A(),X&&(null==_?void 0:_.analytics)){var e=_.analytics,n=e.referrerId,t=e.linkName;$(n,t)}}),[A,i]),q=a.useCallback((function(){V(!0),null==s||s(),C()}),[s,C]),Q=a.useCallback((function(){null==p||p({name:Il.RESTORE,value:{}}),O(!1),C()}),[C]),j=a.useCallback((function(){null==m||m(),null==p||p({name:Il.CLEAR,value:{}}),O(!0),B(!1)}),[m,p]),ee=a.useCallback((function(){L(f),O(!1),B(!0)}),[f]);return(null==E?void 0:E.length)&&_&&F&&X?a.createElement(z.SignalEventsContextProvider,{eventManager:H.h},a.createElement(W.m,{wrap:!0},a.createElement(Y.i,{id:"all-filters-pill",active:I,icon:null===(r=_.icon)||void 0===r?void 0:r.id,onClick:K,selected:Boolean(_.badge),triggerPill:!0},_.primary)),a.createElement(k,null,a.createElement(x.NB,{returnFocusOnClose:!0},N&&a.createElement(Al,{data:N,onCloseButtonClick:Q,onClearAllButtonClick:j}),a.createElement(x.D$,{zeroPadding:!0},a.createElement(d.l,{padding:{inline:"six"}},a.createElement("div",null,E.map((function(e,n){return a.createElement(Tl,{key:"sort-section-"+n,onSelectedField:ee,resetFilters:G,data:e,onRangeSelectionChange:o,onStepInputChange:c})}))))),a.createElement(d.l,{padding:{small:"four",large:{inline:"six"}},border:["blockstart"]},a.createElement(h.v,{justifyContent:"end",alignItems:"center"},a.createElement(h.t,null,a.createElement(rr,{data:F,onClick:q}))))))):null};Nl.displayName="SearchToolsFilterBar",Nl.fragment=kl;var Ll,Rl=(0,r.Ps)(Ll||(Ll=ne(["\n  fragment SearchToolsFiltersFragment on ShoppingSortAndFilters {\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n  }\n\n  ","\n"],["\n  fragment SearchToolsFiltersFragment on ShoppingSortAndFilters {\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n  }\n\n  ","\n"])),Tl.fragment),Gl=function(e){var n=e.data,t=e.onMultiSelectClose,r=e.onMultiSelectItemRemove,l=e.onMultiSelectClearAll,i=e.onSelectionChange,o=e.typeaheadAdapters,c=e.onRangeSelectionChange,d=e.useUnsetMargin,s=e.useUnsetTopBorder,u=e.onEmptyResults,m=e.keepSectionExpanded,p=e.essLogger,g=n.filterSections;return Array.isArray(g)?a.createElement(a.Fragment,null,g.map((function(e,n){return a.createElement(Tl,{key:"filter-section-"+n,data:e,typeaheadAdapters:o,onMultiSelectClose:t,onMultiSelectItemRemove:r,onMultiSelectClearAll:l,onSelectionChange:i,onRangeSelectionChange:c,useUnsetMargin:d,useUnsetTopBorder:s,keepSectionExpanded:m,essLogger:p})}))):(null==u||u(),null)};Gl.displayName="SearchToolsFilters",Gl.fragment=Rl;var xl,Ol=(0,r.Ps)(xl||(xl=ne(["\n  fragment SearchToolsSortFragment on ShoppingSortAndFilters {\n    sortSections {\n      id\n      fields {\n        ...DropdownFieldFragment\n      }\n    }\n  }\n\n  ","\n"],["\n  fragment SearchToolsSortFragment on ShoppingSortAndFilters {\n    sortSections {\n      id\n      fields {\n        ...DropdownFieldFragment\n      }\n    }\n  }\n\n  ","\n"])),or.fragment),Ml=function(e){var n=e.data,t=e.onKeyPress,r=e.onClick,l=e.onEmptyResults,i=n.sortSections;return Array.isArray(i)?a.createElement(a.Fragment,null,i.map((function(e){return e.fields.map((function(n,l){return n.__typename!==or.fragment.__typename?null:a.createElement("div",{"data-test-id":e.id,key:l},a.createElement(or,{key:"sort-field-"+l,data:n,onKeyPress:t,onClick:r}))}))}))):(null==l||l(),null)};Ml.displayName="SearchToolsSort",Ml.fragment=Ol;var Pl,Bl=(0,r.Ps)(Pl||(Pl=ne(["\n  fragment SearchToolsSortAndFiltersFragment on ShoppingSortAndFilters {\n    sections {\n      ...SortAndFilterSectionFragment\n    }\n    sortSections {\n      ...SortAndFilterSectionFragment\n    }\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment SearchToolsSortAndFiltersFragment on ShoppingSortAndFilters {\n    sections {\n      ...SortAndFilterSectionFragment\n    }\n    sortSections {\n      ...SortAndFilterSectionFragment\n    }\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),Tl.fragment,Al.fragment,rr.fragment),Ul=$e.SORT_AND_FILTERS,wl=function(e){var n=e.data,t=e.onEmptyResults,r=e.onFieldClick,l=e.onMultiSelectClose,i=e.onMultiSelectItemRemove,o=e.onMultiSelectClearAll,c=e.onSubmit,s=e.onOpenDialog,u=e.onClearFilters,m=e.typeaheadAdapters,p=e.onSelectionChange,g=e.onRangeSelectionChange,E=e.onRemoveAllAppliedFilters,v=e.keepSectionExpanded,f=e.onStepInputChange,_=e.withExtraMarginBlockEnd,F=n||{},T=F.__typename,h=F.sortSections,A=F.filterSections,C=F.sections,k=F.containers,b=(null==k?void 0:k.find((function(e){return e.view===Ul})))||{},N=b.toolbar,L=b.revealAction,R=b.applyAction,G=[h,A,C],O=J((0,y.useDialog)(T+"-"+Ul),3),M=O[1],P=O[2],B=M.openDialog,U=M.closeDialog,w=J(a.useState(N),2),z=w[0],H=w[1],V=J(a.useState(!1),2),W=V[0],Y=V[1],$=a.useCallback((function(){s&&s(),Y(!1),H(N),B()}),[s,B,N]),X=a.useCallback((function(){c&&c(),U()}),[c,U]),K=a.useCallback((function(){u&&u({name:Il.RESTORE,value:{}}),U()}),[U]),q=a.useCallback((function(){var e;E&&E(),u&&u({name:Il.CLEAR,value:{}}),Y(!0);var n=Z(Z({},z),{actions:Z(Z({},null==z?void 0:z.actions),{secondaries:null===(e=null==z?void 0:z.actions.secondaries)||void 0===e?void 0:e.map((function(e){return Z(Z({},e),{disabled:!0})}))})});H(n)}),[E]),Q=a.useCallback((function(){H(N),Y(!1)}),[N]);return G.some((function(e){return Array.isArray(e)&&e.length>0}))&&L&&R?a.createElement(a.Fragment,null,a.createElement(rr,{data:L,isFullWidth:!0,onClick:$}),a.createElement(P,null,a.createElement(x.NB,null,a.createElement(x.D$,{zeroPadding:!0},z&&a.createElement(Al,{data:z,onCloseButtonClick:K,onClearAllButtonClick:q}),a.createElement(d.l,{padding:{blockend:"twelve",inline:"four"},margin:{blockend:_?"twelve":"three"}},a.createElement("div",{"data-test-id":"sort-filter-drawer"},G.map((function(e){return Array.isArray(e)?e.map((function(e,n){return a.createElement(Tl,{key:"sort-section-"+n,data:e,typeaheadAdapters:m,onFieldClick:r,onMultiSelectClose:l,onMultiSelectItemRemove:i,onMultiSelectClearAll:o,onSelectionChange:p,onSelectedField:Q,onRangeSelectionChange:g,onStepInputChange:f,keepSectionExpanded:v,resetFilters:W})})):null})),a.createElement(I.o,{type:D.k.BUTTON},a.createElement(rr,{data:R,isFullWidth:!0,size:S.xY.LARGE,onClick:X})))))))):(null==t||t(),null)};wl.displayName="SearchToolsSortAndFilter",wl.fragment=Bl;var zl,Hl=(0,r.Ps)(zl||(zl=ne(["\n  fragment EGDSRemovablePillFragment on EGDSRemovablePill {\n    primary\n    accessibility\n    disabled\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"],["\n  fragment EGDSRemovablePillFragment on EGDSRemovablePill {\n    primary\n    accessibility\n    disabled\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]))),Vl=function(e){var n=e.data,t=e.onClick,r=e.disabled,l=n.primary,i=n.accessibility,o=n.action,c=(0,u.useClickTracker)();return a.createElement(V.p,{id:l,onClick:function(){if(null==o?void 0:o.analytics){var e=o.analytics,n=e.linkName,a=e.referrerId;c(a,n)}t()},altText:i||"",a11yRemoveText:(null==o?void 0:o.accessibility)||"",disabled:n.disabled||r},l)};Vl.displayName="EGDSRemovablePill",Vl.fragment=Hl;var Wl,Yl,$l=(0,r.Ps)(Wl||(Wl=ne(["\n  fragment ShoppingSearchCriteriaFragment on ShoppingSearchCriteria {\n    selections {\n      id\n      value\n    }\n    booleans {\n      id\n      value\n    }\n    counts {\n      id\n      value\n    }\n    dates {\n      id\n      value {\n        day\n        month\n        year\n      }\n    }\n    ranges {\n      id\n      max\n      min\n    }\n  }\n"],["\n  fragment ShoppingSearchCriteriaFragment on ShoppingSearchCriteria {\n    selections {\n      id\n      value\n    }\n    booleans {\n      id\n      value\n    }\n    counts {\n      id\n      value\n    }\n    dates {\n      id\n      value {\n        day\n        month\n        year\n      }\n    }\n    ranges {\n      id\n      max\n      min\n    }\n  }\n"]))),Xl=(0,r.Ps)(Yl||(Yl=ne(["\n  fragment AppliedFilterFragment on ShoppingSortAndFilterAppliedFilter {\n    pill {\n      ...EGDSRemovablePillFragment\n    }\n    nextSearchCriteria {\n      ...ShoppingSearchCriteriaFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment AppliedFilterFragment on ShoppingSortAndFilterAppliedFilter {\n    pill {\n      ...EGDSRemovablePillFragment\n    }\n    nextSearchCriteria {\n      ...ShoppingSearchCriteriaFragment\n    }\n  }\n\n  ","\n  ","\n"])),Vl.fragment,$l),Kl=function(e){var n,t=e.data,r=e.onRemove,l=e.allowEmptySelections,i=e.disabled,o=t.pill,c=t.nextSearchCriteria;if("EGDSRemovablePill"!==o.__typename||!(null===(n=c.selections)||void 0===n?void 0:n[0])&&!l)return null;return a.createElement(Vl,{data:o,onClick:function(){null==r||r(c)},disabled:i})};Kl.displayName="AppliedFilter",Kl.fragment=Xl;var ql,Ql=(0,r.Ps)(ql||(ql=ne(["\n  fragment SearchToolsAppliedFiltersFragment on ShoppingSortAndFilters {\n    appliedFilters {\n      ...AppliedFilterFragment\n    }\n    clearAll {\n      egdsElementId\n      ...EGDSButtonFragment\n    }\n  }\n\n  ","\n  ","\n"],["\n  fragment SearchToolsAppliedFiltersFragment on ShoppingSortAndFilters {\n    appliedFilters {\n      ...AppliedFilterFragment\n    }\n    clearAll {\n      egdsElementId\n      ...EGDSButtonFragment\n    }\n  }\n\n  ","\n  ","\n"])),Kl.fragment,xe),jl=function(e){var n,t=e.data,r=e.onEmptyResults,l=e.onRemoveAppliedFilter,i=e.onRemoveAllAppliedFilters,o=e.wrapAppliedFilters,c=void 0!==o&&o,s=e.allowEmptySelectionsPills,m=e.loading,p=t.appliedFilters,g=t.clearAll,S=(0,u.useClickTracker)(),E=null==g?void 0:g.egdsElementId,v=a.useCallback((function(){var e;if(null===(e=t.clearAll)||void 0===e?void 0:e.analytics){var n=t.clearAll.analytics,a=n.referrerId,r=n.linkName;S(a,r)}null==i||i()}),[null===(n=t.clearAll)||void 0===n?void 0:n.analytics,i,S]);return(null==p?void 0:p.length)?a.createElement(W.m,{wrap:c},null==p?void 0:p.map((function(e,n){return a.createElement(Kl,{key:"applied-filter-"+n,data:e,onRemove:l,allowEmptySelections:s,disabled:m})})),g&&a.createElement(d.l,{margin:{inlineend:"one"},padding:{inlinestart:"four",blockstart:"four"}},a.createElement(j.M,{inline:!0,noWrap:!0},a.createElement("button",{type:"button",onClick:v,disabled:m,"data-test-id":E},g.primary)))):(null==r||r(),null)};jl.displayName="SearchToolsAppliedFilters",jl.fragment=Ql;var Zl,Jl,ei=(0,r.Ps)(Zl||(Zl=ne(["\n  fragment SearchToolsFilterDialogFragment on ShoppingSortAndFilters {\n    sections {\n      ...SortAndFilterSectionFragment\n    }\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"],["\n  fragment SearchToolsFilterDialogFragment on ShoppingSortAndFilters {\n    sections {\n      ...SortAndFilterSectionFragment\n    }\n    filterSections {\n      ...SortAndFilterSectionFragment\n    }\n    containers {\n      ... on ShoppingSortAndFilterDialogContainer {\n        view\n        revealAction {\n          ...UIFloatingActionButtonFragment\n        }\n        applyAction {\n          ...UIFloatingActionButtonFragment\n        }\n        toolbar {\n          ...SortFilterToolbarFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),Tl.fragment,Al.fragment,rr.fragment),ni=$e.FILTER_DIALOG,ti=function(e){var n,t,r=e.data,l=e.onEmptyResults,i=e.onMultiSelectClose,o=e.onMultiSelectItemRemove,c=e.onMultiSelectClearAll,s=e.onSubmit,m=e.onOpenDialog,g=e.onClearFilters,v=e.typeaheadAdapters,f=e.onSelectionChange,_=e.onRangeSelectionChange,F=e.onRemoveAllAppliedFilters,T=e.keepSectionExpanded,A=r.__typename,C=r.containers,k=r.filterSections,b=r.sections,N=(null==C?void 0:C.find((function(e){return e.view===ni})))||{},L=N.toolbar,R=N.revealAction,G=N.applyAction,O=[k,b],M=J((0,y.useDialog)(A+"-"+ni),3),P=M[0],B=M[1],U=M[2],w=B.openDialog,z=B.closeDialog,H=J(a.useState(L),2),V=H[0],W=H[1],Y=J(a.useState(!1),2),X=Y[0],K=Y[1],q=J(a.useState((null===(n=null==L?void 0:L.actions)||void 0===n?void 0:n.secondaries)&&(null===(t=null==L?void 0:L.actions)||void 0===t?void 0:t.secondaries[0].disabled)),2),Q=q[0],j=q[1],ee=J(a.useState(!0),2),ne=ee[0],te=ee[1];a.useEffect((function(){var e;V&&W(Z(Z({},V),{actions:{__typename:"UIToolbarActions",primary:Z({},V.actions.primary),secondaries:(null===(e=V.actions.secondaries)||void 0===e?void 0:e.map((function(e){return Z(Z({},e),{disabled:!Q&&X})})))||[]}}))}),[Q,X]),a.useEffect((function(){P||ne||(null==g||g({name:Il.RESTORE,value:{}}),K(!1)),te(!1)}),[P,ne]);var ae=(0,u.useClickTracker)(),re=a.useCallback((function(){var e;if(m&&m(),R&&"UISecondaryFloatingActionButton"===R.__typename&&"ClientSideAnalytics"===(null===(e=R.analytics)||void 0===e?void 0:e.__typename)){var n=R.analytics,t=n.referrerId,a=n.linkName;ae(t,a)}w()}),[w,m,R,ae]),le=a.useCallback((function(){te(!0),s&&s(),z()}),[s,z]),ie=a.useCallback((function(){g&&g({name:Il.RESTORE,value:{}}),K(!1),z()}),[z]),oe=a.useCallback((function(){F&&F(),g&&g({name:Il.CLEAR,value:{}}),K(!0),j(!1)}),[F]),ce=a.useCallback((function(){W(L),K(!1),j(!0)}),[L]);if(!O.some((function(e){return Array.isArray(e)&&e.length>0}))||!R||!G)return null==l||l(),null;if("UISecondaryFloatingActionButton"!==R.__typename)return null;var de=R.badge,se=R.icon,ue=R.primary,me=a.createElement(a.Fragment,null,!!de&&a.createElement(h.t,null,a.createElement($.W,{text:de.toString()})),se&&!de&&a.createElement(h.t,null,a.createElement(Ka,{data:se})),a.createElement(h.t,null,a.createElement("div",null,ue)));return a.createElement(a.Fragment,null,a.createElement(E.m,{isFullWidth:!0,onClick:re,size:S.xY.MEDIUM},a.createElement(p.Viewport,null,a.createElement(p.ViewSmall,null,a.createElement(h.v,{direction:"column",alignItems:"center"},me)),a.createElement(p.ViewMedium,null,a.createElement(h.v,{space:"two"},me)))),a.createElement(U,null,a.createElement(x.NB,{returnFocusOnClose:!0},a.createElement(x.D$,{zeroPadding:!0},V&&a.createElement(Al,{data:V,onCloseButtonClick:ie,onClearAllButtonClick:oe}),a.createElement(d.l,{padding:{blockend:"twelve",inline:"four"},margin:{blockend:"three"}},a.createElement("div",null,O.map((function(e){return Array.isArray(e)&&0!==e.length?e.map((function(e,n){return a.createElement(Tl,{key:"filter-section-"+n,data:e,typeaheadAdapters:v,onMultiSelectClose:i,onMultiSelectItemRemove:o,onMultiSelectClearAll:c,onSelectionChange:f,onSelectedField:ce,onRangeSelectionChange:_,keepSectionExpanded:T,useUnsetTopBorder:!0,resetFilters:X})})):null})),a.createElement(I.o,{type:D.k.BUTTON},a.createElement(rr,{data:G,isFullWidth:!0,size:S.xY.LARGE,onClick:le}))))))))};ti.displayName="SearchToolsFilterDialog",ti.fragment=ei;var ai,ri=((Jl={})[$e.FILTERS]=Gl,Jl[$e.SORT]=Ml,Jl[$e.SORT_AND_FILTERS]=wl,Jl[$e.APPLIED_FILTERS]=jl,Jl[$e.FILTER_BAR]=Nl,Jl[$e.FILTER_DIALOG]=ti,Jl[$e.FILTERS_PILLS]=Gl,Jl[$e.SORT_TABS]=Ml,Jl),li=(0,r.Ps)(ai||(ai=ne(["\n  query LodgingSortAndFiltersQuery(\n    $context: ContextInput!\n    $destination: DestinationInput!\n    $criteria: PropertySearchCriteriaInput\n    $shoppingContext: ShoppingContextInput\n  ) {\n    propertySearch(context: $context, destination: $destination, criteria: $criteria, shoppingContext: $shoppingContext) {\n      universalSortAndFilter {\n        ...SearchToolsFiltersFragment\n        ...SearchToolsSortFragment\n        ...SearchToolsSortAndFiltersFragment\n        ...SearchToolsFilterBarFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"],["\n  query LodgingSortAndFiltersQuery(\n    $context: ContextInput!\n    $destination: DestinationInput!\n    $criteria: PropertySearchCriteriaInput\n    $shoppingContext: ShoppingContextInput\n  ) {\n    propertySearch(context: $context, destination: $destination, criteria: $criteria, shoppingContext: $shoppingContext) {\n      universalSortAndFilter {\n        ...SearchToolsFiltersFragment\n        ...SearchToolsSortFragment\n        ...SearchToolsSortAndFiltersFragment\n        ...SearchToolsFilterBarFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"])),Gl.fragment,Ml.fragment,wl.fragment,Nl.fragment),ii=function(e){var n=e.inputs,t=e.skipSsr,r=e.view,o=e.onFieldChange,c=e.onFieldClick,d=(0,i.v)().context,s=d.identity,u=d.locale,m=d.siteId,p=(s||{}).duaid,g=Number(null==s?void 0:s.expUserId)||-1,S=Z(Z({},n),{context:d}),E=(0,l.a)(li,{variables:S,ssr:!t,fetchPolicy:"cache-and-network"}),v=E.data,f=E.loading,y=E.error,_=E.previousData,h=f&&_?_:v;if(y||!h||!h.propertySearch.universalSortAndFilter)return null;var I=function(e,n){null==o||o(e,n)},D=ri[r];if(!D)return null;var A=function(e,n,t,a,r,l){var i,o=new Map;return null===(i=e.propertySearch.universalSortAndFilter.filterSections)||void 0===i||i.map((function(e){return e.fields.filter((function(e){return"ShoppingTextInputField"===e.__typename}))})).flat(2).forEach((function(e){var i,c,d,s,u,m,p,g,S,E=e.typeaheadInfo,v=null!==(c=null===(i=l.destination)||void 0===i?void 0:i.regionId)&&void 0!==c?c:"";o.set(e.id,new T.n7({client:null!==(d=null==E?void 0:E.client)&&void 0!==d?d:"",dest:null!==(s=null==E?void 0:E.isDestination)&&void 0!==s&&s,expuserid:n,features:null!==(u=null==E?void 0:E.typeaheadFeatures)&&void 0!==u?u:"",guid:a,locale:t,maxResults:null!==(m=null==E?void 0:E.maxNumberOfResults)&&void 0!==m?m:10,personalize:!1,regionType:null!==(p=null==E?void 0:E.regionType)&&void 0!==p?p:128,siteId:r,lob:null!==(g=null==E?void 0:E.lineOfBusiness)&&void 0!==g?g:"hotels",domain:null!==(S=null==E?void 0:E.domain)&&void 0!==S?S:"",regionId:v}))})),o}(h,g,u,p,m,n);return a.createElement(F.$I,{onFieldChange:I},a.createElement(D,Z({data:h.propertySearch.universalSortAndFilter,onClearFilters:I,typeaheadAdapters:A,onRangeSelectionChange:function(e){var n={name:e.id,value:{min:e.min,max:e.max}};I(n)},onSelectionChange:function(e,n){var t=function(e){var n;return(null==e?void 0:e.term)?{name:ha.PROPERTY_NAME,value:{selected:null===(n=e.data)||void 0===n?void 0:n.selected,hotelName:e.term}}:{name:ha.PROPERTY_NAME,value:{}}}(e);I(t,n)},onStepInputChange:function(e,n){I({name:e,value:n})},onClick:c},e)))};ii.displayName="LodgingSortAndFilters";var oi=a.createContext(null),ci=function(e){var n=e.children,t=e.urlSearchParams,r=ba(t);return a.createElement(oi.Provider,{value:r},n)},di=function(){return a.useContext(oi)}}}]);
//# sourceMappingURL=shared-ui-search-tools-lodging.f9fe21eef188c06f2e43.js.map